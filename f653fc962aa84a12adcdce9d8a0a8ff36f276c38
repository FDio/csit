{
  "comments": [
    {
      "key": {
        "uuid": "0b14da76_824dfa56",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-24T13:23:35Z",
      "side": 1,
      "message": "I still recommend to cherry-pick https://gerrit.fd.io/r/#/c/19138/2/resources/libraries/python/ssh.py\nas in putting retry mechanism into ssh.exec_cmd_no_error ...",
      "range": {
        "startLine": 122,
        "startChar": 8,
        "endLine": 122,
        "endChar": 11
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e8d8679b_82f5fcdf",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-24T14:01:36Z",
      "side": 1,
      "message": "this one has different exit condition because stupid vppctl does not return proper exit code when vpp is not running. this is why we have \"if not ret and \u0027Connection refused\u0027 not in stdout:\" so you proposal would not work.",
      "parentUuid": "0b14da76_824dfa56",
      "range": {
        "startLine": 122,
        "startChar": 8,
        "endLine": 122,
        "endChar": 11
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e753f47_16a04a36",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-24T15:34:29Z",
      "side": 1,
      "message": "Would the following work as a command to give ret\u003d\u003d1 when VPP is not ready?\n  vppctl show pci 2\u003e\u00261 | fgrep -v \u0027Connection refused\u0027\n\nSeems to work for me locally, but SSH may treat pipe differently.\n\n$ ( echo \"a\" | fgrep -v a ); echo $?\n1\n\n$ ( echo \"b\" | fgrep -v a ); echo $? \nb\n0\n\n$ ( true | fgrep -v a ); echo $?\n1\n\n$ ( echo \"b\" \u0026\u0026 false | fgrep -v a ); echo $?\nb\n1",
      "parentUuid": "e8d8679b_82f5fcdf",
      "range": {
        "startLine": 122,
        "startChar": 8,
        "endLine": 122,
        "endChar": 11
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a8f48b7_e563cd0d",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-25T05:54:43Z",
      "side": 1,
      "message": "i need to test and verify, when i was implementing this last time (actual code) this was solution, but maybe they fixed in mean time.",
      "parentUuid": "0e753f47_16a04a36",
      "range": {
        "startLine": 122,
        "startChar": 8,
        "endLine": 122,
        "endChar": 11
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8f314e20_418d398e",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-25T12:31:33Z",
      "side": 1,
      "message": "looks good and working",
      "parentUuid": "6a8f48b7_e563cd0d",
      "range": {
        "startLine": 122,
        "startChar": 8,
        "endLine": 122,
        "endChar": 11
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1495c1a2_14f4b684",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-24T13:23:35Z",
      "side": 1,
      "message": "... and add sleep parameter to exec_cmd_no_error if this is still needed.",
      "range": {
        "startLine": 123,
        "startChar": 17,
        "endLine": 123,
        "endChar": 22
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0f60d26_cad2dfb6",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-25T12:31:33Z",
      "side": 1,
      "message": "hammering machine without sleep is not productive, so sleep is there for reasonable delay and 1s is sort of fair balance between waiting too long for nothing and too many retries. We can move to ssh.",
      "parentUuid": "1495c1a2_14f4b684",
      "range": {
        "startLine": 123,
        "startChar": 17,
        "endLine": 123,
        "endChar": 22
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b0b4733_c709968c",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 2
      },
      "lineNbr": 604,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-24T13:23:35Z",
      "side": 1,
      "message": "I recommend to move this out. Imagine NF density scenario with edited config; we want to start them all, and only after that verify them all.",
      "range": {
        "startLine": 604,
        "startChar": 8,
        "endLine": 604,
        "endChar": 10
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e7754ac1_c8dfc537",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 2
      },
      "lineNbr": 604,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-24T14:01:36Z",
      "side": 1,
      "message": "in NF_density and memif we are doing different detection. And again caller function just need to now vpp is started?",
      "parentUuid": "7b0b4733_c709968c",
      "range": {
        "startLine": 604,
        "startChar": 8,
        "endLine": 604,
        "endChar": 10
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d891507f_6fbc8c98",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 2
      },
      "lineNbr": 604,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-24T15:34:29Z",
      "side": 1,
      "message": "Alright my new favourite is, fifth verb, or more precisely verb pair. \"restart VPP if not running\" and delayed \"keep checking this set of VPPs until they are all up, else fail when time runs out\".",
      "parentUuid": "e7754ac1_c8dfc537",
      "range": {
        "startLine": 604,
        "startChar": 8,
        "endLine": 604,
        "endChar": 10
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c25ca914_0a7b8de5",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 2
      },
      "lineNbr": 604,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-25T05:54:43Z",
      "side": 1,
      "message": "i think i will prepare new set of functions in next patch.",
      "parentUuid": "d891507f_6fbc8c98",
      "range": {
        "startLine": 604,
        "startChar": 8,
        "endLine": 604,
        "endChar": 10
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a54c20f3_ff14a40a",
        "filename": "resources/libraries/robot/performance/performance_setup.robot",
        "patchSetId": 2
      },
      "lineNbr": 647,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-24T13:23:35Z",
      "side": 1,
      "message": "I still prefer to rename all such keywords to Restart*. But that can be done in a different Change, just put a TODO somewhere.",
      "range": {
        "startLine": 647,
        "startChar": 4,
        "endLine": 647,
        "endChar": 9
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa8efc73_b45c7fda",
        "filename": "resources/libraries/robot/performance/performance_setup.robot",
        "patchSetId": 2
      },
      "lineNbr": 647,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-24T14:01:36Z",
      "side": 1,
      "message": "What do user want? They do not care if VPP was started or not they just want start VPP and safely detect if it is UP and running.",
      "parentUuid": "a54c20f3_ff14a40a",
      "range": {
        "startLine": 647,
        "startChar": 4,
        "endLine": 647,
        "endChar": 9
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2ceea99_25b47cd4",
        "filename": "resources/libraries/robot/performance/performance_setup.robot",
        "patchSetId": 2
      },
      "lineNbr": 647,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-24T15:34:29Z",
      "side": 1,
      "message": "Alright, if we mention (after line 22) that \"start\" means either the fourth verb or fifth.",
      "parentUuid": "fa8efc73_b45c7fda",
      "range": {
        "startLine": 647,
        "startChar": 4,
        "endLine": 647,
        "endChar": 9
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4361c12c_7be9f197",
        "filename": "resources/libraries/robot/performance/performance_setup.robot",
        "patchSetId": 2
      },
      "lineNbr": 647,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-25T05:54:43Z",
      "side": 1,
      "message": "I think it is time to unify the naming, the question is what we want to name it.",
      "parentUuid": "a2ceea99_25b47cd4",
      "range": {
        "startLine": 647,
        "startChar": 4,
        "endLine": 647,
        "endChar": 9
      },
      "revId": "f653fc962aa84a12adcdce9d8a0a8ff36f276c38",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}