{
  "comments": [
    {
      "key": {
        "uuid": "8ec1fa05_178b7709",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 15
      },
      "lineNbr": 110,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-30T10:00:10Z",
      "side": 1,
      "message": "wait_for\n\nOr similar verb, because other verify_ keywords are one-shot without any waiting (as far as I see).\nOr keep the name, but add an optional paramter wait\u003dTrue or wait\u003d120.",
      "range": {
        "startLine": 110,
        "startChar": 8,
        "endLine": 110,
        "endChar": 14
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e73558e_435ec0bc",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 15
      },
      "lineNbr": 110,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-30T10:55:55Z",
      "side": 1,
      "message": "we are verifying if vpp is started so I do not see valid point to force rename to human language. Want to keep it simple.",
      "parentUuid": "8ec1fa05_178b7709",
      "range": {
        "startLine": 110,
        "startChar": 8,
        "endLine": 110,
        "endChar": 14
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c4db40e_61c7fc33",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 15
      },
      "lineNbr": 110,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-30T11:33:15Z",
      "side": 1,
      "message": "\u003e verifying if vpp is started\n\nNo, retries\u003d0 would be doing that.\nHere we are waiting few minutes for VPP to start responding.\n\nThe less simple human language is useful if we want to make our setup quick. We can do start\u0026verify for each VPP app separately, but we should be doing start_all\u0026wait_for_all if your \"verify\" is slow.\n\nAnd for wait_for_all impementation, it would be better to have time_end (or timeout) specified (instead or retries), so the wait period is shared between all VPP apps.",
      "parentUuid": "7e73558e_435ec0bc",
      "range": {
        "startLine": 110,
        "startChar": 8,
        "endLine": 110,
        "endChar": 14
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bdb59c8_537f8595",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 15
      },
      "lineNbr": 110,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-30T12:18:27Z",
      "side": 1,
      "message": "No, sharing code we had in past and it is not good.\nThis is atomic operation. vpp already started in separate call and we have to verify if VPP is started, internally it has different implementation which is normal because they screw up servicing.\n\nIn fact VPP break the systemd so we need special care to make sure we can later encapsulate. Simply, VPP should report to systemd state so ideally systemd will report return code once the status changed and ready for operation.\nSo \"service vpp restart\" will report return code once VPP is really ready. But it is not so we have to do the job.\n\nThis makes verify implementation complicated but it is a must to ensure vpp is ready for handling further requests.\n\nUpwards in encapsulation nobody cares how to do it, it is encapsulated.",
      "parentUuid": "7c4db40e_61c7fc33",
      "range": {
        "startLine": 110,
        "startChar": 8,
        "endLine": 110,
        "endChar": 14
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d85b7532_78a29ff6",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 15
      },
      "lineNbr": 110,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-30T12:53:30Z",
      "side": 1,
      "message": "Perhaps my opinions are influenced by OpenDaylight too much. ODL is consisting of multiple \"subservices\" and it is normal for ODL to be \"partially started\", as in some subservices are responsive, but others not yet. VPP is simpler in that regard, but it is always useful for test to wait until VPP is actually seen to respond. That is why I always think about the worst case, when VPP is unresponsive for tens of seconds.\n\nSo when testing ODL, we had check_* keywords, that can fail just because they were run too early after start, and wait_* keyword which if fail it means we need to open a Bug.\n\nIn this case, the keyword which can take 2 minutes to finally fail should be named differently than keywords which fail under one second.\n\nIf it was start_vpp_service that can take 2 minutes to fail, I would be asking you to rename that one.",
      "parentUuid": "6bdb59c8_537f8595",
      "range": {
        "startLine": 110,
        "startChar": 8,
        "endLine": 110,
        "endChar": 14
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d86bce3a_8c41a781",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 15
      },
      "lineNbr": 134,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-30T10:00:10Z",
      "side": 1,
      "message": "Not needed.\nLogs are handled in line 138, so the exception does not need any handling.",
      "range": {
        "startLine": 134,
        "startChar": 8,
        "endLine": 134,
        "endChar": 14
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e22d5b6_b305837e",
        "filename": "resources/libraries/python/VPPUtil.py",
        "patchSetId": 15
      },
      "lineNbr": 134,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-30T10:55:55Z",
      "side": 1,
      "message": "fixed",
      "parentUuid": "d86bce3a_8c41a781",
      "range": {
        "startLine": 134,
        "startChar": 8,
        "endLine": 134,
        "endChar": 14
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "51b2e8ba_d0006d56",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 15
      },
      "lineNbr": 560,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-30T10:00:10Z",
      "side": 1,
      "message": "\"verify\", or \"wait_for\", or \"ensure\", ...",
      "range": {
        "startLine": 560,
        "startChar": 42,
        "endLine": 560,
        "endChar": 49
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1f82f029_3a436b07",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 15
      },
      "lineNbr": 560,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-30T10:55:55Z",
      "side": 1,
      "message": "fixed",
      "parentUuid": "51b2e8ba_d0006d56",
      "range": {
        "startLine": 560,
        "startChar": 42,
        "endLine": 560,
        "endChar": 49
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f227f55_a43865f2",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 15
      },
      "lineNbr": 560,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-30T11:33:15Z",
      "side": 1,
      "message": "restart_and_wait_for\n\nThat is too long, the \"wait for\" part can be in docstring.",
      "parentUuid": "1f82f029_3a436b07",
      "range": {
        "startLine": 560,
        "startChar": 42,
        "endLine": 560,
        "endChar": 49
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c1e4a5b8_2ee199a0",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 15
      },
      "lineNbr": 560,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-30T12:18:27Z",
      "side": 1,
      "message": "wait_for does not make sense as it is doing start/restart",
      "parentUuid": "0f227f55_a43865f2",
      "range": {
        "startLine": 560,
        "startChar": 42,
        "endLine": 560,
        "endChar": 49
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "58754d88_6247f118",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 15
      },
      "lineNbr": 560,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-30T12:53:30Z",
      "side": 1,
      "message": "Later patch sets contain verify_vpp (after line 600), which can take 2 minutes.",
      "parentUuid": "c1e4a5b8_2ee199a0",
      "range": {
        "startLine": 560,
        "startChar": 42,
        "endLine": 560,
        "endChar": 49
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d562e3e_78f7ae28",
        "filename": "resources/libraries/python/VppConfigGenerator.py",
        "patchSetId": 15
      },
      "lineNbr": 560,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-30T14:15:57Z",
      "side": 1,
      "message": "so? you are just wasting time here. VPP have to start somehow and it takes a time. I do not have time to find the proper Oxford English term for that. You do not have better either and doing 30+ chars variable is no go.",
      "parentUuid": "58754d88_6247f118",
      "range": {
        "startLine": 560,
        "startChar": 42,
        "endLine": 560,
        "endChar": 49
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bbabe55_c7d6ffd6",
        "filename": "resources/libraries/python/ssh.py",
        "patchSetId": 15
      },
      "lineNbr": 460,
      "author": {
        "id": 1263
      },
      "writtenOn": "2019-04-30T10:00:10Z",
      "side": 1,
      "message": "Mention the hardcoded sleep.",
      "range": {
        "startLine": 460,
        "startChar": 13,
        "endLine": 460,
        "endChar": 20
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c250ecf6_764493fb",
        "filename": "resources/libraries/python/ssh.py",
        "patchSetId": 15
      },
      "lineNbr": 460,
      "author": {
        "id": 76
      },
      "writtenOn": "2019-04-30T10:55:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4bbabe55_c7d6ffd6",
      "range": {
        "startLine": 460,
        "startChar": 13,
        "endLine": 460,
        "endChar": 20
      },
      "revId": "67e2c94650197d345e66ae1ef3b961ee26d9a9ea",
      "serverId": "6d2eb258-4fe2-443e-8a38-ca81da23d4c2",
      "unresolved": false
    }
  ]
}