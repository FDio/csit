
.. |br| raw:: html

    <br />

L2 Ethernet Looping
===================

10ge2p1x520-eth-l2xcbase-ndrdisc
````````````````````````````````

**RFC2544: Pkt throughput IPv4 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 frame forwarding.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 run the DPDK testpmd application and use the io forwarding mode. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                 | Documentation                                                                                                                                                                                                           | Message                                                                                                                                                                                                                                                                        |
+======================================+=========================================================================================================================================================================================================================+================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-ndrdisc   |  |br| [Cfg] DUT runs L2 frame forwarding config with 1 thread, 1 phy core, 1 receive queue per NIC port.  |br| [Ver] Find NDR for 64 Byte frames using binary search start at 10GE linerate, step 100kpps.              | FINAL_RATE: 23295237.5 pps (2x 11647618.75 pps)  |br| FINAL_BANDWIDTH: 15.6543996 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%NDR: ['10/476/595', '10/483/601']  |br| LAT_50%NDR: ['10/14/26', '10/14/30']  |br| LAT_10%NDR: ['10/16/29', '10/17/29']       |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc02-64B-1t1c-eth-l2xcbase-pdrdisc   |  |br| [Cfg] DUT runs L2 frame forwarding config with 1 thread, 1 phy core, 1 receive queue per NIC port.  |br| [Ver] Find PDR for 64 Byte frames using binary search start at 10GE linerate, step 100kpps, LT=0.5%.     | FINAL_RATE: 23295237.5 pps (2x 11647618.75 pps)  |br| FINAL_BANDWIDTH: 15.6543996 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%PDR: ['10/480/595', '10/485/606']  |br| LOSS_ACCEPTANCE: 0.5 percentage                                                       |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2xcbase-ndrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 1 thread, 1 phy core, 1 receive queue per NIC port.  |br| [Ver] Find NDR for 1518 Byte frames using binary search start at 10GE linerate, step 10kpps.             | FINAL_RATE: 1625486.0 pps (2x 812743.0 pps)  |br| FINAL_BANDWIDTH: 19.999979744 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%NDR: ['20/249/278', '20/284/321']  |br| LAT_50%NDR: ['10/26/145', '10/25/125']  |br| LAT_10%NDR: ['10/25/134', '10/23/161']     |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc04-1518B-1t1c-eth-l2xcbase-pdrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 1 thread, 1 phy core, 1 receive queue per NIC port.  |br| [Ver] Find PDR for 1518 Byte frames using binary search start at 10GE linerate, step 10kpps, LT=0.5%.    | FINAL_RATE: 1625486.0 pps (2x 812743.0 pps)  |br| FINAL_BANDWIDTH: 19.999979744 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%PDR: ['20/112/264', '10/112/284']  |br| LOSS_ACCEPTANCE: 0.5 percentage                                                         |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-eth-l2xcbase-ndrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 1 thread, 1 phy core, 1 receive queue per NIC port.  |br| [Ver] Find NDR for 9000 Byte frames using binary search start at 10GE linerate, step 10kpps.             | FINAL_RATE: 277160.0 pps (2x 138580.0 pps)  |br| FINAL_BANDWIDTH: 19.9998656 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%NDR: ['50/284/358', '60/266/337']  |br| LAT_50%NDR: ['50/62/201', '50/64/194']  |br| LAT_10%NDR: ['50/60/191', '50/60/172']        |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc06-9000B-1t1c-eth-l2xcbase-pdrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 1 thread, 1 phy core, 1 receive queue per NIC port.  |br| [Ver] Find PDR for 9000 Byte frames using binary search start at 10GE linerate, step 10kpps, LT=0.5%.    | FINAL_RATE: 277160.0 pps (2x 138580.0 pps)  |br| FINAL_BANDWIDTH: 19.9998656 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%PDR: ['50/271/306', '60/280/337']  |br| LOSS_ACCEPTANCE: 0.5 percentage                                                            |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-ndrdisc   |  |br| [Cfg] DUT runs L2 frame forwarding config with 2 threads, 2 phy cores, 1 receive queue per NIC port.  |br| [Ver] Find NDR for 64 Byte frames using binary search start at 10GE linerate, step 100kpps.            | FINAL_RATE: 23064285.125 pps (2x 11532142.5625 pps)  |br| FINAL_BANDWIDTH: 15.499199604 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%NDR: ['10/198/331', '10/64/243']  |br| LAT_50%NDR: ['10/16/26', '10/16/28']  |br| LAT_10%NDR: ['10/17/125', '10/17/30'] |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc08-64B-2t2c-eth-l2xcbase-pdrdisc   |  |br| [Cfg] DUT runs L2 frame forwarding config with 2 threads, 2 phy cores, 1 receive queue per NIC port.  |br| [Ver] Find PDR for 64 Byte frames using binary search start at 10GE linerate, step 100kpps, LT=0.5%.   | FINAL_RATE: 23064285.125 pps (2x 11532142.5625 pps)  |br| FINAL_BANDWIDTH: 15.499199604 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%PDR: ['10/496/561', '10/485/535']  |br| LOSS_ACCEPTANCE: 0.5 percentage                                                 |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc09-1518B-2t2c-eth-l2xcbase-ndrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 2 threads, 2 phy cores, 1 receive queue per NIC port.  |br| [Ver] Find NDR for 1518 Byte frames using binary search start at 10GE linerate, step 10kpps.           | FINAL_RATE: 1625486.0 pps (2x 812743.0 pps)  |br| FINAL_BANDWIDTH: 19.999979744 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%NDR: ['20/215/235', '20/166/191']  |br| LAT_50%NDR: ['10/26/146', '10/23/126']  |br| LAT_10%NDR: ['10/25/101', '10/25/41']      |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc10-1518B-2t2c-eth-l2xcbase-pdrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 2 threads, 2 phy cores, 1 receive queue per NIC port.  |br| [Ver] Find PDR for 1518 Byte frames using binary search start at 10GE linerate, step 10kpps, LT=0.5%.  | FINAL_RATE: 1625486.0 pps (2x 812743.0 pps)  |br| FINAL_BANDWIDTH: 19.999979744 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%PDR: ['20/291/319', '20/127/177']  |br| LOSS_ACCEPTANCE: 0.5 percentage                                                         |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc11-9000B-2t2c-eth-l2xcbase-ndrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 2 threads, 2 phy cores, 1 receive queue per NIC port.  |br| [Ver] Find NDR for 9000 Byte frames using binary search start at 10GE linerate, step 10kpps.           | FINAL_RATE: 277160.0 pps (2x 138580.0 pps)  |br| FINAL_BANDWIDTH: 19.9998656 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%NDR: ['60/228/304', '50/182/216']  |br| LAT_50%NDR: ['50/63/121', '50/63/133']  |br| LAT_10%NDR: ['50/57/167', '50/57/70']         |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc12-9000B-2t2c-eth-l2xcbase-pdrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 2 threads, 2 phy cores, 1 receive queue per NIC port.  |br| [Ver] Find PDR for 9000 Byte frames using binary search start at 10GE linerate, step 10kpps, LT=0.5%.  | FINAL_RATE: 245015.0 pps (2x 122507.5 pps)  |br| FINAL_BANDWIDTH: 17.6802824 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%PDR: ['50/67/178', '50/67/81']  |br| LOSS_ACCEPTANCE: 0.5 percentage                                                               |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc13-64B-4t4c-eth-l2xcbase-ndrdisc   |  |br| [Cfg] DUT runs L2 frame forwarding config with 4 threads, 4 phy cores, 2 receive queues per NIC port.  |br| [Ver] Find NDR for 64 Byte frames using binary search start at 10GE linerate, step 100kpps.           | FINAL_RATE: 22833332.75 pps (2x 11416666.375 pps)  |br| FINAL_BANDWIDTH: 15.343999608 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%NDR: ['10/499/515', '10/489/506']  |br| LAT_50%NDR: ['10/8/102', '10/8/32']  |br| LAT_10%NDR: ['10/17/29', '10/14/27']    |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc14-64B-4t4c-eth-l2xcbase-pdrdisc   |  |br| [Cfg] DUT runs L2 frame forwarding config with 4 threads, 4 phy cores, 2 receive queues per NIC port.  |br| [Ver] Find PDR for 64 Byte frames using binary search start at 10GE linerate, step 100kpps, LT=0.5%.  | FINAL_RATE: 23064285.125 pps (2x 11532142.5625 pps)  |br| FINAL_BANDWIDTH: 15.499199604 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%PDR: ['10/485/495', '10/493/503']  |br| LOSS_ACCEPTANCE: 0.5 percentage                                                 |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc15-1518B-4t4c-eth-l2xcbase-ndrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 4 threads, 4 phy cores, 2 receive queues per NIC port.  |br| [Ver] Find NDR for 1518 Byte frames using binary search start at 10GE linerate, step 10kpps.          | FINAL_RATE: 1625486.0 pps (2x 812743.0 pps)  |br| FINAL_BANDWIDTH: 19.999979744 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%NDR: ['20/143/202', '20/175/232']  |br| LAT_50%NDR: ['10/26/128', '10/27/78']  |br| LAT_10%NDR: ['10/25/32', '10/24/95']        |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc16-1518B-4t4c-eth-l2xcbase-pdrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 4 threads, 4 phy cores, 2 receive queues per NIC port.  |br| [Ver] Find PDR for 1518 Byte frames using binary search start at 10GE linerate, step 10kpps, LT=0.5%. | FINAL_RATE: 1625486.0 pps (2x 812743.0 pps)  |br| FINAL_BANDWIDTH: 19.999979744 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%PDR: ['20/176/304', '20/140/200']  |br| LOSS_ACCEPTANCE: 0.5 percentage                                                         |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc17-9000B-4t4c-eth-l2xcbase-ndrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 4 threads, 4 phy cores, 2 receive queues per NIC port.  |br| [Ver] Find NDR for 9000 Byte frames using binary search start at 10GE linerate, step 10kpps.          | FINAL_RATE: 277160.0 pps (2x 138580.0 pps)  |br| FINAL_BANDWIDTH: 19.9998656 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%NDR: ['60/117/217', '60/192/312']  |br| LAT_50%NDR: ['50/60/107', '50/63/193']  |br| LAT_10%NDR: ['50/54/61', '50/60/203']         |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc18-9000B-4t4c-eth-l2xcbase-pdrdisc |  |br| [Cfg] DUT runs L2 frame forwarding config with 4 threads, 4 phy cores, 2 receive queues per NIC port.  |br| [Ver] Find PDR for 9000 Byte frames using binary search start at 10GE linerate, step 5kpps, LT=0.5%.  | FINAL_RATE: 277160.0 pps (2x 138580.0 pps)  |br| FINAL_BANDWIDTH: 19.9998656 Gbps (untagged)  |br| LATENCY usec [min/avg/max]  |br| LAT_100%PDR: ['60/81/225', '50/78/283']  |br| LOSS_ACCEPTANCE: 0.5 percentage                                                              |
+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

