Release Notes
=============

Changes in |csit-release|
-------------------------

#. VPP PERFORMANCE TESTS

   - **Intel Xeon 2n-skx, 3n-skx and 2n-clx**: VPP test data is not
     included in this report version. This is due to performance and
     behaviour inconsistency following the upgrade to the latest
     Ubuntu 18.04 LTS kernel version (4.15.0-72-generic) and
     associated microcode versions (skx: 0x2000064, clx: 0x5000021).
     Test data will be added in subsequent maintenance report
     version(s) once testing is completed using reverted kernel
     (4.15.0-46-generic) and microcode (skx: 0x2000043, clx:
     0x500002c).

   - **Service density 2n-skx tests**: Added higher NF density tests with
     IPSec encencryption between DUTs.

   - **AVF tests**: Full test coveraged based on code changes in CSIT core
     layer (driver/interface awareness) and generated by suite generator
     (Fortville NICs only).

   - **Hoststack TCP/IP tests**: Major refactor of Hoststack TCP
     performance tests using WRK generator talking to the VPP HTTP
     static server plugin measuring connections per second and
     requests per second.

#. TEST FRAMEWORK

   - **CSIT Python3 Support**: Full migration of CSIT from Python2.7 to
     Python3.6. This change includes library migration, PIP dependency upgrade,
     CSIT container images, infrastructure packages ugrade/installation.

   - **CSIT PAPI Support**: Finished conversion of CSIT VAT L1 keywords
     to PAPI L1 KWs in CSIT using VPP Python bindings (VPP PAPI).
     Redesign of key components of PAPI Socket Executor and PAPI
     history. Due to issues with PAPI performance, VAT is still used
     in CSIT for all VPP scale tests. See known issues below.

   - **General Code Housekeeping**: Ongoing RF keywords optimizations,
     removal of redundant RF keywords and aligning of suite/test
     setup/teardowns.


#. PRESENTATION AND ANALYTICS LAYER

   - **Graphs Layout Improvements**: Improved performance graphs layout
     for better readibility and maintenance: test grouping, axis
     labels, descriptions, other informative decoration.

.. raw:: latex

    \clearpage

.. _vpp_known_issues:

Known Issues
------------

List of known issues in |csit-release| for VPP performance tests:

+----+-----------------------------------------+----------------------------------------------------------------------------------------------------------+
| #  | JiraID                                  | Issue Description                                                                                        |
+====+=========================================+==========================================================================================================+
| 1  | `CSIT-570                               | Sporadic (1 in 200) NDR discovery test failures on x520. DPDK reporting rx-errors, indicating L1 issue.  |
|    | <https://jira.fd.io/browse/CSIT-570>`_  | Suspected issue with HW combination of X710-X520 in LF testbeds. Not observed outside of LF testbeds.    |
+----+-----------------------------------------+----------------------------------------------------------------------------------------------------------+
| 2  | `VPP-662                                | 9000B packets not supported by NICs VIC1227 and VIC1387.                                                 |
|    | <https://jira.fd.io/browse/VPP-662>`_   |                                                                                                          |
+----+-----------------------------------------+----------------------------------------------------------------------------------------------------------+
| 3  | `CSIT-1498                              | Memif tests are sporadically failing on initialization of memif connection.                              |
|    | <https://jira.fd.io/browse/CSIT-1498>`_ |                                                                                                          |
+----+-----------------------------------------+----------------------------------------------------------------------------------------------------------+
| 4  | `VPP-1677                               | 9000B ip4 nat44: VPP crash + coredump.                                                                   |
|    | <https://jira.fd.io/browse/VPP-1677>`_  | VPP crashes very often in case that NAT44 is configured and it has to process IP4 jumbo frames (9000B).  |
+----+-----------------------------------------+----------------------------------------------------------------------------------------------------------+
| 5  | `CSIT-1591                              | All CSIT scale tests can not use PAPI due to much slower performance compared to VAT/CLI (it takes much  |
|    | <https://jira.fd.io/browse/CSIT-1499>`_ | longer to program VPP). This needs to be addressed on the PAPI side.                                     |
|    +-----------------------------------------+                                                                                                          |
|    | `VPP-1763                               |                                                                                                          |
|    | <https://jira.fd.io/browse/VPP-1763>`_  |                                                                                                          |
+----+-----------------------------------------+----------------------------------------------------------------------------------------------------------+
| 6  | `VPP-1675                               | IPv4 IPSEC 9000B packet tests are failing as no packet is forwarded.                                     |
|    | <https://jira.fd.io/browse/VPP-1675>`_  | Reason: chained buffers are not supported.                                                               |
+----+-----------------------------------------+----------------------------------------------------------------------------------------------------------+
| 7  | `CSIT-1593                              | IPv4 AVF 9000B packet tests are failing on 3n-skx while passing on 2n-skx.                               |
|    | <https://jira.fd.io/browse/CSIT-1593>`_ |                                                                                                          |
+----+-----------------------------------------+----------------------------------------------------------------------------------------------------------+
| 8  | `CSIT-1675                              | Intel Xeon 2n-skx, 3n-skx and 2n-clx testbeds behaviour and performance became inconsistent following    |
|    | <https://jira.fd.io/browse/CSIT-1675>`_ | the upgrade to the latest Ubuntu 18.04 LTS kernel version (4.15.0-72-generic) and associated microcode   |
|    |                                         | versions (skx: 0x2000064, clx: 0x5000021). VPP as well as DPDK L3fwd applications are affected.          |
+----+-----------------------------------------+----------------------------------------------------------------------------------------------------------+

