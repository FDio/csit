
.. |br| raw:: html

    <br />

VLAN Tag Translation
--------------------

eth2p-dot1ad--dot1q-l2bdbasemaclrn-vlantrans21-func
'''''''''''''''''''''''''''''''''''''''''''''''''''

**L2BD with VLAN tag rewrite test cases - transalte-2-1**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1ad-IPv4-ICMPv4 or Eth-dot1ad-IPv6-ICMPv6 on TG-DUT1, Eth-dot1q-IPv4-ICMPv4 or Eth-dot1q-IPv6-ICMPv6 on DUT1-DUT2, Eth-IPv4-ICMPv4 or Eth-IPv6-ICMPv6 on TG-DUT2 for L2 switching of IPv4/IPv6.  

 - **[Cfg] DUT configuration:** DUT1 is configured with bridge domain (L2BD) switching combined with MAC learning enabled and added VLAN sub-interface with VLAN tag rewrite translate-2-1 method of interface towards TG and interface towards DUT2. DUT2 is configured with L2 bridge domain (L2BD) switching between VLAN sub-interface with VLAN tag rewrite pop-1 method of interface towards DUT1 and interface towards TG.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent from TG on link to DUT1 and received in TG on link form DUT2; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr and MAC addresses.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q, IEEE 802.1ad.

+------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                           | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Status |
+================================================================================================+======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: DUT1 and DUT2 with L2BD and VLAN translate-2-1 (DUT1) switch ICMPv4 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1ad-IPv4-ICMPv4 on TG-DUT1,  Eth-dot1q-IPv4-ICMPv4 on DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 bridge domain (L2BD) with one interface to DUT2 and one Dot1ad sub-interface towards TG with VLAN tag rewrite translate-2-1 method; on DUT2 configure L2 bridge domain (L2BD) with one interface to TG and one VLAN sub-interface towards DUT1 with VLAN tag rewrite pop-1 method.  |br| [Ver] Make TG send ICMPv4 Echo Req tagged with Dot1ad tags from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q, IEEE 802.1ad       | PASS   |
+------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC03: DUT1 and DUT2 with L2BD and VLAN translate-2-1 (DUT1) switch ICMPv6 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1ad-IPv6-ICMPv6 on TG-DUT1,  Eth-dot1q-IPv6-ICMPv6 on DUT1-DUT2, Eth-IPv6-ICMPv6 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 bridge domain (L2BD) with one interface to DUT2 and one Dot1ad sub-interface towards TG with VLAN tag rewrite translate-2-1 method; on DUT2 configure L2 bridge domain (L2BD) with one interface to TG and one VLAN sub-interface towards DUT1 with VLAN tag rewrite pop-1 method.  |br| [Ver] Make TG send ICMPv6 Echo Req tagged with Dot1ad tags from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q, IEEE 802.1ad       | PASS   |
+------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-dot1ad--dot1q-l2xcbase-vlantrans21-func
'''''''''''''''''''''''''''''''''''''''''''''

**L2XC with VLAN tag rewrite test cases - translate-2-1**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1ad-IPv4-ICMPv4 or Eth-dot1ad-IPv6-ICMPv6 on TG-DUT1, Eth-dot1q-IPv4-ICMPv4 or Eth-dot1aq-IPv6-ICMPv6 on DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUT2 for L2 switching of IPv4/IPv6.  

 - **[Cfg] DUT configuration:** DUT1 is configured with L2 cross-connect (L2XC) switching between VLAN sub-interface with VLAN tag rewrite translate-2-1 method of interface towards TG and interface towards DUT2. DUT2 is configured configured with L2 cross-connect (L2XC) switching between VLAN sub-interface with VLAN tag rewrite pop-1 method of interface towards DUT1 and interface towards TG.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent from TG on link to DUT1 and received in TG on link form DUT2; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr and MAC addresses.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q, IEEE 802.1ad.

+------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                           | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Status |
+================================================================================================+======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: DUT1 and DUT2 with L2XC and VLAN translate-2-1 (DUT1) switch ICMPv4 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1ad-IPv4-ICMPv4 on TG-DUT1,  Eth-dot1q-IPv4-ICMPv4 on DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 cross-connect (L2XC) with one interface to DUT2 and one Dot1ad sub-interface towards TG with VLAN tag rewrite translate-2-1 method; on DUT2 configure L2 cross-connect (L2XC) with one interface to TG and one VLAN sub-interface towards DUT1 with VLAN tag rewrite pop-1 method.  |br| [Ver] Make TG send ICMPv4 Echo Req tagged with Dot1ad tags from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q, IEEE 802.1ad       | PASS   |
+------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC03: DUT1 and DUT2 with L2XC and VLAN translate-2-1 (DUT1) switch ICMPv6 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1ad-IPv6-ICMPv6 on TG-DUT1,  Eth-dot1q-IPv6-ICMPv6 on DUT1-DUT2, Eth-IPv6-ICMPv6 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 cross-connect (L2XC) with one interface to DUT2 and one Dot1ad sub-interface towards TG with VLAN tag rewrite translate-2-1 method; on DUT2 configure L2 cross-connect (L2XC) with one interface to TG and one VLAN sub-interface towards DUT1 with VLAN tag rewrite pop-1 method.  |br| [Ver] Make TG send ICMPv6 Echo Req tagegd with Dot1ad tags from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q, IEEE 802.1ad       | PASS   |
+------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-dot1ad-l2bdbasemaclrn-vlantrans22-func
''''''''''''''''''''''''''''''''''''''''''''

**L2BD with VLAN tag rewrite test cases - translate-2-2**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1ad-IPv4-ICMPv4 or Eth-dot1ad-IPv6-ICMPv6 on TG-DUT1 and DUT1-DUT2, Eth-IPv4-ICMPv4 or Eth-IPv6-ICMPv6 on TG-DUT2 for L2 switching of IPv4/IPv6.  

 - **[Cfg] DUT configuration:** DUT1 is configured with bridge domain (L2BD) switching combined with MAC learning enabled and added VLAN sub-interface with VLAN tag rewrite translate-2-2 method of interface towards TG and interface towards DUT2. DUT2 is configured with L2 bridge domain (L2BD) switching between VLAN sub-interface with VLAN tag rewrite pop-2 method of interface towards DUT1 and interface towards TG.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent from TG on link to DUT1 and received in TG on link form DUT2; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr and MAC addresses.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q, IEEE 802.1ad.

+-----------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                    | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Status |
+=========================================================================================+========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: DUT1 and DUT2 with L2BD and VLAN translate-2-2 switch ICMPv4 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1ad-IPv4-ICMPv4 on TG-DUT1 and  on DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 bridge domain (L2BD) with one interface to DUT2 and one Dot1ad sub-interface towards TG with VLAN tag rewrite translate-2-2 method; on DUT2 configure L2 bridge domain (L2BD) with one interface to TG and one Dot1ad sub-interface towards DUT1 with VLAN tag rewrite pop-2 tagged with Dot1ad tags from one of its interfaces to another one method.  |br| [Ver] Make TG send ICMPv4 Echo Req via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1ad       | PASS   |
+-----------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC05: DUT1 and DUT2 with L2BD and VLAN translate-2-2 switch ICMPv6 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1ad-IPv6-ICMPv6 on TG-DUT1 and  on DUT1-DUT2, Eth-IPv6-ICMPv6 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 bridge domain (L2BD) with one interface to DUT2 and one Dot1ad sub-interface towards TG with VLAN tag rewrite translate-2-2 method; on DUT2 configure L2 bridge domain (L2BD) with one interface to TG and one Dot1ad sub-interface towards DUT1 with VLAN tag rewrite pop-1 tagged with Dot1ad tags from one of its interfaces to another one method.  |br| [Ver] Make TG send ICMPv6 Echo Req via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1ad       | PASS   |
+-----------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-dot1ad-l2xcbase-func
''''''''''''''''''''''''''

**L2 cross-connect with QinQ test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1ad-IPv4-ICMPv4 on DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUTn for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross-connect (L2XC) switching with 802.1ad QinQ VLAN tag push and pop.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent in both directions by TG on links to DUT1 and DUT2; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr and MAC addresses.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1ad.

+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                   | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Status |
+========================================================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: DUT1 and DUT2 with L2XC and two VLAN push-pop switch ICMPv4 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1ad-IPv4-ICMPv4 on  DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUTn.  |br| [Cfg] On DUT1 and DUT2 configure L2 cross-connect (L2XC), each with one interface to TG and one Ethernet interface towards the other DUT; each DUT pushes two VLAN tags on packets received from local TG, and popping two VLAN tags on packets transmitted to local TG.  |br| [Ver] Make TG send ICMPv4 Echo Req in both directions between two of its interfaces to be switched by DUT1 and DUT2; verify all packets are received.  |br| [Ref] IEEE 802.1ad.       | PASS   |
+----------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-dot1ad-l2xcbase-vlantrans22-func
''''''''''''''''''''''''''''''''''''''

**L2XC with VLAN tag rewrite test cases - translate-2-2**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1ad-IPv4-ICMPv4 or Eth-dot1ad-IPv6-ICMPv6 on TG-DUT1 and DUT1-DUT2, Eth-IPv4-ICMPv4 or Eth-IPv6-ICMPv6 on TG-DUT2 for L2 switching of IPv4/IPv6.  

 - **[Cfg] DUT configuration:** DUT1 is configured with L2 cross-connect (L2XC) switching between VLAN sub-interface with VLAN tag rewrite translate-2-2 method of interface towards TG and interface towards DUT2. DUT2 is configured configured with L2 cross-connect (L2XC) switching between VLAN sub-interface with VLAN tag rewrite pop-2 method of interface towards DUT1 and interface towards TG.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent from TG on link to DUT1 and received in TG on link form DUT2; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr and MAC addresses.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q, IEEE 802.1ad.

+-----------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                    | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Status |
+=========================================================================================+========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: DUT1 and DUT2 with L2XC and VLAN translate-2-2 switch ICMPv4 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1ad-IPv4-ICMPv4 on TG-DUT1 and  on DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 cross-connect (L2XC) with one interface to DUT2 and one Dot1ad sub-interface towards TG with VLAN tag rewrite translate-2-2 method; on DUT2 configure L2 cross-connect (L2XC) with one interface to TG and one Dot1ad sub-interface towards DUT1 with VLAN tag rewrite pop-1 tagged with Dot1ad tags from one of its interfaces to another one method.  |br| [Ver] Make TG send ICMPv4 Echo Req via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1ad       | PASS   |
+-----------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC05: DUT1 and DUT2 with L2XC and VLAN translate-2-2 switch ICMPv6 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1ad-IPv6-ICMPv6 on TG-DUT1 and  on DUT1-DUT2, Eth-IPv6-ICMPv6 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 cross-connect (L2XC) with one interface to DUT2 and one Dot1ad sub-interface towards TG with VLAN tag rewrite translate-2-2 method; on DUT2 configure L2 cross-connect (L2XC) with one interface to TG and one Dot1ad sub-interface towards DUT1 with VLAN tag rewrite pop-1 tagegd with Dot1ad tags from one of its interfaces to another one method.  |br| [Ver] Make TG send ICMPv6 Echo Req via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1ad       | PASS   |
+-----------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-dot1q--dot1ad-l2bdbasemaclrn-vlantrans12-func
'''''''''''''''''''''''''''''''''''''''''''''''''''

**L2BD with VLAN tag rewrite test cases - translate-1-2**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1q-IPv4-ICMPv4 or Eth-dot1q-IPv6-ICMPv6 on TG-DUT1, Eth-dot1ad-IPv4-ICMPv4 or Eth-dot1ad-IPv6-ICMPv6 on DUT1-DUT2, Eth-IPv4-ICMPv4 or Eth-IPv6-ICMPv6 on TG-DUT2 for L2 switching of IPv4/IPv6.  

 - **[Cfg] DUT configuration:** DUT1 is configured with bridge domain (L2BD) switching combined with MAC learning enabled and added VLAN sub-interface with VLAN tag rewrite translate-1-2 method of interface towards TG and interface towards DUT2. DUT2 is configured with L2 bridge domain (L2BD) switching between VLAN sub-interface with VLAN tag rewrite pop-2 method of interface towards DUT1 and interface towards TG.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent from TG on link to DUT1 and received in TG on link form DUT2; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr and MAC addresses.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q, IEEE 802.1ad.

+------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                           | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Status |
+================================================================================================+========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: DUT1 and DUT2 with L2BD and VLAN translate-1-2 (DUT1) switch ICMPv4 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1q-IPv4-ICMPv4 on TG-DUT1,  Eth-dot1ad-IPv4-ICMPv4 on DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 bridge domain (L2BD) with one interface to DUT2 and one VLAN sub-interface towards TG with VLAN tag rewrite translate-1-2 method; on DUT2 configure L2 bridge domain (L2BD) with one interface to TG and one Dot1ad sub-interface towards DUT1 with VLAN tag rewrite pop-2 method.  |br| [Ver] Make TG send ICMPv4 Echo Req tagged with one Dot1q tag from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q, IEEE 802.1ad       | PASS   |
+------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC05: DUT1 and DUT2 with L2BD and VLAN translate-1-2 (DUT1) switch ICMPv6 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1q-IPv6-ICMPv6 on TG-DUT1,  Eth-dot1ad-IPv6-ICMPv6 on DUT1-DUT2, Eth-IPv6-ICMPv6 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 bridge domain (L2BD) with one interface to DUT2 and one VLAN sub-interface towards TG with VLAN tag rewrite translate-1-2 method; on DUT2 configure L2 bridge domain (L2BD) with one interface to TG and one Dot1ad sub-interface towards DUT1 with VLAN tag rewrite pop-2 method.  |br| [Ver] Make TG send ICMPv6 Echo Req tagged with one Dot1q tag from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q, IEEE 802.1ad       | PASS   |
+------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-dot1q--dot1ad-l2xcbase-vlantrans12-func
'''''''''''''''''''''''''''''''''''''''''''''

**L2XC with VLAN tag rewrite test cases - translate-1-2**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1q-IPv4-ICMPv4 or Eth-dot1q-IPv6-ICMPv6 on TG-DUT1, Eth-dot1ad-IPv4-ICMPv4 or Eth-dot1ad-IPv6-ICMPv6 on DUT1-DUT2, Eth-IPv4-ICMPv4 or Eth-IPv6-ICMPv6 on TG-DUT2 for L2 switching of IPv4/IPv6.  

 - **[Cfg] DUT configuration:** DUT1 is configured with L2 cross-connect (L2XC) switching between VLAN sub-interface with VLAN tag rewrite translate-1-2 method of interface towards TG and interface towards DUT2. DUT2 is configured configured with L2 cross-connect (L2XC) switching between VLAN sub-interface with VLAN tag rewrite pop-2 method of interface towards DUT1 and interface towards TG.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent from TG on link to DUT1 and received in TG on link form DUT2; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr and MAC addresses.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q, IEEE 802.1ad.

+------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                           | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Status |
+================================================================================================+========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: DUT1 and DUT2 with L2XC and VLAN translate-1-2 (DUT1) switch ICMPv4 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1q-IPv4-ICMPv4 on TG-DUT1,  Eth-dot1ad-IPv4-ICMPv4 on DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 cross-connect (L2XC) with one interface to DUT2 and one VLAN sub-interface towards TG with VLAN tag rewrite translate-1-2 method; on DUT2 configure L2 cross-connect (L2XC) with one interface to TG and one Dot1ad sub-interface towards DUT1 with VLAN tag rewrite pop-2 method.  |br| [Ver] Make TG send ICMPv4 Echo Req tagged with one Dot1q tag from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q, IEEE 802.1ad       | PASS   |
+------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC05: DUT1 and DUT2 with L2XC and VLAN translate-1-2 (DUT1) switch ICMPv6 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1q-IPv6-ICMPv6 on TG-DUT1,  Eth-dot1ad-IPv6-ICMPv6 on DUT1-DUT2, Eth-IPv6-ICMPv6 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 cross-connect (L2XC) with one interface to DUT2 and one VLAN sub-interface towards TG with VLAN tag rewrite translate-1-2 method; on DUT2 configure L2 cross-connect (L2XC) with one interface to TG and one Dot1ad sub-interface towards DUT1 with VLAN tag rewrite pop-2 method.  |br| [Ver] Make TG send ICMPv6 Echo Req tagegd with one Dot1q tag from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q, IEEE 802.1ad       | PASS   |
+------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-dot1q-ip4base-func
''''''''''''''''''''''''

**IPv4 with VLAN subinterfaces**   

 - **[Top] Network Topologies:** TG-DUT1-TG 2-node circular topology with double links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-IPv4-ICMPv4 on TG-DUT1-IF1, Eth-dot1q-IPv4-ICMPv4 on TG-DUT1-IF2.  

 - **[Cfg] DUT configuration:** DUT1 is configured with 2 Vlan subinterfaces on DUT1-IF2. The subinterfaces and DUT1-IF1 have IP addresses set and corresponding IP neighbor entries are configured.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q.

+------------------------------------+---------------+--------+
| Name                               | Documentation | Status |
+====================================+===============+========+
| TC01: Process untagged send tagged |               | PASS   |
+------------------------------------+---------------+--------+
| TC02: Process tagged send untagged |               | FAIL   |
+------------------------------------+---------------+--------+
| TC03: Process tagged send tagged   |               | FAIL   |
+------------------------------------+---------------+--------+

eth2p-dot1q-l2bdbasemaclrn-eth-2vhost-1vm-func
''''''''''''''''''''''''''''''''''''''''''''''

**L2 bridge domain with VLAN tag over VM test cases**   

 - **[Top] Network Topologies:** TG=DUT 2-node circular topology with double links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1q-IPv4-ICMPv4 or Eth-dot1q-IPv6-ICMPv6 on TG=DUT and on DUT=VM.  

 - **[Cfg] DUT configuration:** DUT is configured with two bridge domains (L2BD) with MAC learning enabled; each one with added VLAN sub-interface towards TG and vhost-user interface to local VM. Configure linux bridge on VM to pass traffic between both vhost-user interfaces.  

 - **[Ver] TG verification:** Make TG send ICMPv4/ICMPv6 Echo Req between two of its interfaces to be switched by DUT via VM; verify packets are switched between these TG interfaces; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr, MAC addresses and VLAN tag.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q.

+--------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                   | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Status |
+========================================================+=========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: eth2p-dot1q-l2bdbasemaclrn-eth-2vhost-1vm - ipv4 | [Top] TG=DUT.  |br| [Enc] Eth-dot1q-IPv4-ICMPv4 on TG=DUT and on DUT=VM.  |br| [Cfg] On DUT configure two L2BDs (MAC learning enabled); first L2BD with Dot1Q tagged interface to TG-if1 and vhost-user interface to local VM, second one with vhost-user interface to local VM and Dot1Q tagged interface towards TG-if2. Configure linux bridge on VM to pass traffic between both vhost-user interfaces.  |br| [Ver] Make TG send ICMPv4 Echo Req tagged with one Dot1q tag from one of its interfaces to another one via DUT and VM; verify that packet is received.  |br| [Ref] IEEE 802.1q        | PASS   |
+--------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC01: eth2p-dot1q-l2bdbasemaclrn-eth-2vhost-1vm - ipv6 | [Top] TG=DUT.  |br| [Enc] Eth-dot1q-IPv6-ICMPv6 on TG=DUT and on DUT=VM.  |br| [Cfg] On DUT configure two L2BDs (MAC learning enabled); first L2BD with Dot1Q tagged interface to TG-if1 and vhost-user interface to local VM, second one with vhost-user interface to local VM and Dot1Q tagged interface towards TG-if2. Configure linux bridge on VM to pass traffic between both vhost-user interfaces.  |br| [Ver] Make TG send ICMPv6 Echo Req tagged with one Dot1q tag from one of its interfaces to another one via DUT and VM; verify that packet is received.  |br| [Ref] IEEE 802.1q        | PASS   |
+--------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-dot1q-l2bdbasemaclrn-vlantrans11-func
'''''''''''''''''''''''''''''''''''''''''''

**L2BD with VLAN tag rewrite test cases - translate-1-1**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1q-IPv4-ICMPv4 or Eth-dot1q-IPv6-ICMPv6 on TG-DUT1 and DUT1-DUT2, Eth-IPv4-ICMPv4 or Eth-IPv6-ICMPv6 on TG-DUT2 for L2 switching of IPv4/IPv6.  

 - **[Cfg] DUT configuration:** DUT1 is configured with bridge domain (L2BD) switching combined with MAC learning enabled and added VLAN sub-interface with VLAN tag rewrite translate-1-1 method of interface towards TG and interface towards DUT2. DUT2 is configured with L2 bridge domain (L2BD) switching between VLAN sub-interface with VLAN tag rewrite pop-1 method of interface towards DUT1 and interface towards TG.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent from TG on link to DUT1 and received in TG on link form DUT2; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr and MAC addresses.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q, IEEE 802.1ad.

+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                           | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Status |
+================================================================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: DUT1 and DUT2 with L2BD and VLAN translate-1-1 (DUT1) switch ICMPv4 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1q-IPv4-ICMPv4 on TG-DUT1 and  DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 bridge domain with one interface to DUT2 and one VLAN sub-interface towards TG with VLAN tag rewrite translate-1-1 method; on DUT2 configure L2 bridge domain (L2BD) with one interface to TG and one VLAN sub-interface towards DUT1 with VLAN tag rewrite pop-1 method.  |br| [Ver] Make TG send ICMPv4 Echo Req tagged with one Dot1q tag from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q              | PASS   |
+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC03: DUT1 and DUT2 with L2BD and VLAN translate-1-1 (DUT1) switch ICMPv6 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1q-IPv6-ICMPv6 on TG-DUT1 and  DUT1-DUT2, Eth-IPv6-ICMPv6 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 bridge domain (L2BD) with one interface to DUT2 and one VLAN sub-interface towards TG with VLAN tag rewrite translate-1-1 method; on DUT2 configure L2 bridge domain (L2BD) with one interface to TG and one VLAN sub-interface towards DUT1 with VLAN tag rewrite pop-1 method.  |br| [Ver] Make TG send ICMPv6 Echo Req tagged with one Dot1q tag from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q       | PASS   |
+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-dot1q-l2xcbase-vlantrans11-func
'''''''''''''''''''''''''''''''''''''

**L2XC with VLAN tag rewrite test cases - translate-1-1**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet encapsulations:** Eth-dot1q-IPv4-ICMPv4 or Eth-dot1q-IPv6-ICMPv6 on TG-DUT1 and DUT1-DUT2, Eth-IPv4-ICMPv4 or Eth-IPv4-ICMPv4 on TG-DUT2 for L2 switching of IPv4/IPv6.  

 - **[Cfg] DUT configuration:** DUT1 is configured with L2 cross-connect (L2XC) switching between VLAN sub-interface with VLAN tag rewrite translate-1-1 method of interface towards TG and interface towards DUT2. DUT2 is configured configured with L2 cross-connect (L2XC) switching between VLAN sub-interface with VLAN tag rewrite pop-1 method of interface towards DUT1 and interface towards TG.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent from TG on link to DUT1 and received in TG on link form DUT2; on receive TG verifies packets for correctness and their IPv4 src-addr, dst-addr and MAC addresses.  

 - **[Ref] Applicable standard specifications:** IEEE 802.1q, IEEE 802.1ad.

+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                           | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Status |
+================================================================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: DUT1 and DUT2 with L2XC and VLAN translate-1-1 (DUT1) switch ICMPv4 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1q-IPv4-ICMPv4 on TG-DUT1 and  DUT1-DUT2, Eth-IPv4-ICMPv4 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 cross-connect (L2XC) with one interface to DUT2 and one VLAN sub-interface towards TG with VLAN tag rewrite translate-1-1 method; on DUT2 configure L2 cross-connect (L2XC) with one interface to TG and one VLAN sub-interface towards DUT1 with VLAN tag rewrite pop-1 method.  |br| [Ver] Make TG send ICMPv4 Echo Req tagged with one Dot1q tag from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q       | PASS   |
+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC03: DUT1 and DUT2 with L2XC and VLAN translate-1-1 (DUT1) switch ICMPv6 between two TG links | [Top] TG-DUT1-DUT2-TG.  |br| [Enc] Eth-dot1q-IPv6-ICMPv6 on TG-DUT1 and  DUT1-DUT2, Eth-IPv6-ICMPv6 on TG-DUT2.  |br| [Cfg] On DUT1 configure L2 cross-connect (L2XC) with one interface to DUT2 and one VLAN sub-interface towards TG with VLAN tag rewrite translate-1-1 method; on DUT2 configure L2 cross-connect (L2XC) with one interface to TG and one VLAN sub-interface towards DUT1 with VLAN tag rewrite pop-1 method.  |br| [Ver] Make TG send ICMPv6 Echo Req tagegd with one Dot1q tag from one of its interfaces to another one via DUT1 and DUT2; verify that packet is received.  |br| [Ref] IEEE 802.1q       | PASS   |
+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

