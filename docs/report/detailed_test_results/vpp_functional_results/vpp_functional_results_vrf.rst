
.. |br| raw:: html

    <br />

VRF Routed-Forwarding
---------------------

eth2p-ethip4-ip4basevrf-func
''''''''''''''''''''''''''''

**Vpn routed forwarding - baseline IPv4**  

 - **[Top] Network Topologies:** TG=DUT1=DUT2=TG 3-node topology with two links in between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-ICMPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** Each DUT is configured with two VRF tables; Separation of traffic is tested by IP packets; Basic ARP and ROUTES are set on DUT nodes; IP addresses are set on DUT interfaces.  

 - **[Ver] TG verification:** Test ICMPv4 Echo Request packets are sent by TG on link to DUT1, DUT2 or back to TG; On receipt TG verifies packets for correctness and their IPv4 src-addr, dst-addr, and MAC addresses.  

 - **[Ref] Applicable standard specifications:**

+----------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                         | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Status |
+==============================================================================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: TG packets routed to DUT ingress interface, VPP configured with two VRFs               | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv4-ICMPv4.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. On every ingress and egress port on DUT is configured ARP and each DUT is configured with one route.  |br| [Ver] Packet is send from TG->DUT1-if1 to DUT1->TG-if1 and from TG->DUT1-if2 to DUT1->TG-if2 and checked if arrived.           | PASS   |
+----------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC02: TG packets routed to DUT egress interface, VPP configured with two VRFs                | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv4-ICMPv4.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. On every ingress and egress port on DUT is configured ARP and each DUT is configured with one route.  |br| [Ver] Packet is send from TG->DUT1-if1 to DUT1->DUT2-if1 and from TG->DUT1-if2 to DUT1->DUT2-if2 and checked if arrived.       | PASS   |
+----------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC03: TG packets routed to DUT2 ingress interface through DUT1, VPP configured with two VRFs | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv4-ICMPv4.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. On every ingress and egress port on DUT is configured ARP and each DUT is configured with one route.  |br| [Ver] Packet is send from TG->DUT1-if1 to DUT2->DUT1-if1 and from TG->DUT1-if2 to DUT2->DUT1-if2 and checked if arrived.       | PASS   |
+----------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC04: TG packets routed to DUT2 egress interface through DUT1, VPP configured with two VRFs  | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv4-ICMPv4.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. On every ingress and egress port on DUT is configured ARP and each DUT is configured with one route.  |br| [Ver] Packet is send from TG->DUT1-if1 to DUT2->TG-if1 and from TG->DUT1-if2 to DUT2->TG-if2 and checked if arrived.           | PASS   |
+----------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC05: TG packets routed to TG through DUT1 and DUT2, VPP configured with two VRFs            | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv4-ICMPv4.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. On every ingress and egress port on DUT is configured ARP and each DUT is configured with one route.  |br| [Ver] Packet is send from TG->DUT1-if1 to TG->DUT2-if1 and from TG->DUT1-if2 to TG->DUT2-if2 and checked if arrived.           | PASS   |
+----------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

eth2p-ethip6-ip6basevrf-func
''''''''''''''''''''''''''''

**Vpn routed forwarding - baseline IPv6**  

 - **[Top] Network Topologies:** TG=DUT1=DUT2=TG 3-node topology with two links in between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6-ICMPv6  

 - **[Cfg] DUT configuration:** Each DUT is configured with two VRF tables; Separation of traffic is tested by IP packets; Neighbors and Routes are set on DUT nodes; IP addresses are set on DUT interfaces.  

 - **[Ver] TG verification:** Test ICMPv6 Echo Request packets are sent by TG on link to DUT1, DUT2 or back to TG; On receipt TG verifies packets for correctness and their IPv6 src-addr, dst-addr, and MAC addresses.  

 - **[Ref] Applicable standard specifications:**

+----------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| Name                                                                                         | Documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Status |
+==============================================================================================+=======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+========+
| TC01: TG packets routed to DUT ingress interface, VPP configured with two VRFs               | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv6-ICMPv6.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. Neighbors are configured for each DUTs ingress/egress ports, and each VRF is configured with just one route.  |br| [Ver] Packet is sent from TG->DUT1-if1 to DUT1->TG-if1 and from TG->DUT1-if2 to DUT1->TG-if2 and checked if arrived.           | PASS   |
+----------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC02: TG packets routed to DUT egress interface, VPP configured with two VRFs                | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv6-ICMPv6.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. Neighbors are configured for each DUTs ingress/egress ports, and each VRF is configured with just one route.  |br| [Ver] Packet is sent from TG->DUT1-if1 to DUT1->DUT2-if1 and from TG->DUT1-if2 to DUT1->DUT2-if2 and checked if arrived.       | PASS   |
+----------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC03: TG packets routed to DUT2 ingress interface through DUT1, VPP configured with two VRFs | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv6-ICMPv6.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. Neighbors are configured for each DUTs ingress/egress ports, and each VRF is configured with just one route.  |br| [Ver] Packet is sent from TG->DUT1-if1 to DUT2->DUT1-if1 and from TG->DUT1-if2 to DUT2->DUT1-if2 and checked if arrived.       | PASS   |
+----------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC04: TG packets routed to DUT2 egress interface through DUT1, VPP configured with two VRFs  | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv6-ICMPv6.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. Neighbors are configured for each DUTs ingress/egress ports, and each VRF is configured with just one route.  |br| [Ver] Packet is sent from TG->DUT1-if1 to DUT2->TG-if1 and from TG->DUT1-if2 to DUT2->TG-if2 and checked if arrived.           | PASS   |
+----------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+
| TC05: TG packets routed to TG through DUT1 and DUT2, VPP configured with two VRFs            | [Top] TG=DUT1=DUT2=TG  |br| [Enc] Eth-IPv6-ICMPv6.  |br| [Cfg] DUT1 and DUT2 are both configured with two fib tables. Each table is assigned to 2 interfaces to separate the traffic. Interfaces are configured with IP addresses from *Variables*. Neighbors are configured for each DUTs ingress/egress ports, and each VRF is configured with just one route.  |br| [Ver] Packet is sent from TG->DUT1-if1 to TG->DUT2-if1 and from TG->DUT1-if2 to TG->DUT2-if2 and checked if arrived.           | PASS   |
+----------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------+

