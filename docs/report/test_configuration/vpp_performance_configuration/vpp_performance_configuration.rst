
.. |br| raw:: html

    <br />


.. |prein| raw:: html

    <pre>


.. |preout| raw:: html

    </pre>

crypto
``````



40ge2p1xl710-ethip4ipsecbasetnl-ip4base-int-aes-gcm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**IPv4 IPsec tunnel mode performance test suite.**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 on TG-DUTn, Eth-IPv4-IPSec on DUT1-DUT2  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with multiple IPsec tunnels between them. DUTs get IPv4 traffic from TG, encrypt it and send to another DUT, where packets are decrypted and sent back to TG  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in number of packets transmitted. NDR is discovered for different number of IPsec tunnels using binary search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, number of flows per flow-group equals to number of IPSec tunnels) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC4303 and RFC2544.

+----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                           | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+================================================================+======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4ipsecbasetnl-ip4base-int-aes-gcm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|                         |
+----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4ipsecbasetnl-ip4base-int-aes-gcm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4ipsecbasetnl-ip4base-int-aes-gcm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|                         |
+----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4ipsecbasetnl-ip4base-int-aes-gcm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|                         |
+----------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4ipsecbasetnl-ip4base-int-cbc-sha1-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**IPv4 IPsec tunnel mode performance test suite.**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 on TG-DUTn, Eth-IPv4-IPSec on DUT1-DUT2  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with multiple IPsec tunnels between them. DUTs get IPv4 traffic from TG, encrypt it and send to another DUT, where packets are decrypted and sent back to TG  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in number of packets transmitted. NDR is discovered for different number of IPsec tunnels using binary search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, number of flows per flow-group equals to number of IPSec tunnels) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC4303 and RFC2544.

+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                            | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+=================================================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4ipsecbasetnl-ip4base-int-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4ipsecbasetnl-ip4base-int-cbc-sha1-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4ipsecbasetnl-ip4base-int-cbc-sha1-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4ipsecbasetnl-ip4base-int-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4ipsecbasetnl-ip4base-tnl-aes-gcm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**IPv4 IPsec tunnel mode performance test suite.**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 on TG-DUTn, Eth-IPv4-IPSec on DUT1-DUT2  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with multiple IPsec tunnels between them. DUTs get IPv4 traffic from TG, encrypt it and send to another DUT, where packets are decrypted and sent back to TG  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in number of packets transmitted. NDR is discovered for different number of IPsec tunnels using binary search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, number of flows per flow-group equals to number of IPSec tunnels) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC4303 and RFC2544.

+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                           | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+================================================================+==============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4ipsecbasetnl-ip4base-tnl-aes-gcm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4ipsecbasetnl-ip4base-tnl-aes-gcm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|                         |
+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4ipsecbasetnl-ip4base-tnl-aes-gcm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|                         |
+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4ipsecbasetnl-ip4base-tnl-aes-gcm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|                         |
+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4ipsecbasetnl-ip4base-tnl-cbc-sha1-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**IPv4 IPsec tunnel mode performance test suite.**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 on TG-DUTn, Eth-IPv4-IPSec on DUT1-DUT2  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with multiple IPsec tunnels between them. DUTs get IPv4 traffic from TG, encrypt it and send to another DUT, where packets are decrypted and sent back to TG  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in number of packets transmitted. NDR is discovered for different number of IPsec tunnels using binary search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, number of flows per flow-group equals to number of IPSec tunnels) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC4303 and RFC2544.

+-----------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                            | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+=================================================================+=======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4ipsecbasetnl-ip4base-tnl-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+-----------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4ipsecbasetnl-ip4base-tnl-cbc-sha1-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+-----------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4ipsecbasetnl-ip4base-tnl-cbc-sha1-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+-----------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4ipsecbasetnl-ip4base-tnl-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+-----------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4ipsecscale1000tnl-ip4base-int-aes-gcm-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**IPv4 IPsec tunnel mode performance test suite.**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 on TG-DUTn, Eth-IPv4-IPSec on DUT1-DUT2  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with multiple IPsec tunnels between them. DUTs get IPv4 traffic from TG, encrypt it and send to another DUT, where packets are decrypted and sent back to TG  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in number of packets transmitted. NDR is discovered for different number of IPsec tunnels using binary search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, number of flows per flow-group equals to number of IPSec tunnels) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC4303 and RFC2544.

+---------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+=====================================================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4ipsecscale1000tnl-ip4base-int-aes-gcm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+---------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4ipsecscale1000tnl-ip4base-int-aes-gcm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+---------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4ipsecscale1000tnl-ip4base-int-aes-gcm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+---------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4ipsecscale1000tnl-ip4base-int-aes-gcm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+---------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4ipsecscale1000tnl-ip4base-int-cbc-sha1-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**IPv4 IPsec tunnel mode performance test suite.**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 on TG-DUTn, Eth-IPv4-IPSec on DUT1-DUT2  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with multiple IPsec tunnels between them. DUTs get IPv4 traffic from TG, encrypt it and send to another DUT, where packets are decrypted and sent back to TG  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in number of packets transmitted. NDR is discovered for different number of IPsec tunnels using binary search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, number of flows per flow-group equals to number of IPSec tunnels) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC4303 and RFC2544.

+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                 | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+======================================================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4ipsecscale1000tnl-ip4base-int-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4ipsecscale1000tnl-ip4base-int-cbc-sha1-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4ipsecscale1000tnl-ip4base-int-cbc-sha1-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4ipsecscale1000tnl-ip4base-int-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4ipsecscale1000tnl-ip4base-tnl-aes-gcm-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**IPv4 IPsec tunnel mode performance test suite.**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 on TG-DUTn, Eth-IPv4-IPSec on DUT1-DUT2  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with multiple IPsec tunnels between them. DUTs get IPv4 traffic from TG, encrypt it and send to another DUT, where packets are decrypted and sent back to TG  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in number of packets transmitted. NDR is discovered for different number of IPsec tunnels using binary search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, number of flows per flow-group equals to number of IPSec tunnels) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC4303 and RFC2544.

+---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+=====================================================================+=======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4ipsecscale1000tnl-ip4base-tnl-aes-gcm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4ipsecscale1000tnl-ip4base-tnl-aes-gcm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4ipsecscale1000tnl-ip4base-tnl-aes-gcm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4ipsecscale1000tnl-ip4base-tnl-aes-gcm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4ipsecscale1000tnl-ip4base-tnl-cbc-sha1-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**IPv4 IPsec tunnel mode performance test suite.**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 on TG-DUTn, Eth-IPv4-IPSec on DUT1-DUT2  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with multiple IPsec tunnels between them. DUTs get IPv4 traffic from TG, encrypt it and send to another DUT, where packets are decrypted and sent back to TG  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in number of packets transmitted. NDR is discovered for different number of IPsec tunnels using binary search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, number of flows per flow-group equals to number of IPSec tunnels) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC4303 and RFC2544.

+----------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                 | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+======================================================================+==============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4ipsecscale1000tnl-ip4base-tnl-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|                         |
+----------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4ipsecscale1000tnl-ip4base-tnl-cbc-sha1-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|                         |
+----------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4ipsecscale1000tnl-ip4base-tnl-cbc-sha1-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|                         |
+----------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4ipsecscale1000tnl-ip4base-tnl-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 192.168.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 172.168.1.1/24 |br| ip_neighbor_add_del sw_if_index 2 dst 192.168.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 172.168.1.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.0.0.0/8 via 192.168.10.2  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/8 via 172.168.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 172.168.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 192.168.20.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 192.168.20.2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 172.168.1.1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 20.0.0.0/8 via 192.168.20.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.0.0.0/8 via 172.168.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br|  |preout|  |
+----------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4ipsectptlispgpe-ip4base-cbc-sha1-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**IPv4 IPsec transport mode performance test suite.**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 on TG-DUTn, Eth-IPv4-IPSec-LISPGPE-IPv4 on DUT1-DUT2  

 - **[Cfg] DUT configuration:** Each DUT is configured with LISP and IPsec in each direction. IPsec is in transport mode. DUTs get IPv4 traffic from TG, encrypt it and send to another DUT, where packets are decrypted and sent back to TG.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in number of packets transmitted. NDR is discovered for different number of IPsec tunnels using binary search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, number of flows per flow-group equals to number of IPSec tunnels) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC6830, RFC4303 and RFC2544.

+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                           | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+================================================================+==========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4ipsectptlispgpe-ip4base-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 68:05:ca:35:78:e9 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_gpe_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_eid_table_add_del_map vni 0 vrf 0 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br| ipsec_sad_add_del_entry esp sad_id 10 spi 1001 crypto_alg aes-cbc-128 crypto_key 5836454f575456365848304262556157 integ_alg sha1-96 integ_key 56596b664d4e71596871584836776255526c6832  |br| ipsec_sad_add_del_entry esp sad_id 20 spi 1000 crypto_alg aes-cbc-128 crypto_key 5836454f575456365848304262556157 integ_alg sha1-96 integ_key 56596b664d4e71596871584836776255526c6832  |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 inbound action protectsa_id 20 laddr_start 1.1.1.1 laddr_stop 1.1.1.1 raddr_start 1.1.1.2 raddr_stop 1.1.1.2  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 outbound action protectsa_id 10 laddr_start 1.1.1.1 laddr_stop 1.1.1.1 raddr_start 1.1.1.2 raddr_stop 1.1.1.2  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 68:05:ca:3a:af:41 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_gpe_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_eid_table_add_del_map vni 0 vrf 0 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br| ipsec_sad_add_del_entry esp sad_id 10 spi 1000 crypto_alg aes-cbc-128 crypto_key 5836454f575456365848304262556157 integ_alg sha1-96 integ_key 56596b664d4e71596871584836776255526c6832  |br| ipsec_sad_add_del_entry esp sad_id 20 spi 1001 crypto_alg aes-cbc-128 crypto_key 5836454f575456365848304262556157 integ_alg sha1-96 integ_key 56596b664d4e71596871584836776255526c6832  |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 inbound action protectsa_id 20 laddr_start 1.1.1.2 laddr_stop 1.1.1.2 raddr_start 1.1.1.1 raddr_stop 1.1.1.1  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 outbound action protectsa_id 10 laddr_start 1.1.1.2 laddr_stop 1.1.1.2 raddr_start 1.1.1.1 raddr_stop 1.1.1.1  |br|  |preout|                         |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4ipsectptlispgpe-ip4base-cbc-sha1-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 68:05:ca:35:78:e9 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_gpe_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_eid_table_add_del_map vni 0 vrf 0 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br| ipsec_sad_add_del_entry esp sad_id 10 spi 1001 crypto_alg aes-cbc-128 crypto_key 394e415461624453686238504f35596f integ_alg sha1-96 integ_key 51446c5038366b73514641377a62584941746661  |br| ipsec_sad_add_del_entry esp sad_id 20 spi 1000 crypto_alg aes-cbc-128 crypto_key 394e415461624453686238504f35596f integ_alg sha1-96 integ_key 51446c5038366b73514641377a62584941746661  |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 inbound action protectsa_id 20 laddr_start 1.1.1.1 laddr_stop 1.1.1.1 raddr_start 1.1.1.2 raddr_stop 1.1.1.2  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 outbound action protectsa_id 10 laddr_start 1.1.1.1 laddr_stop 1.1.1.1 raddr_start 1.1.1.2 raddr_stop 1.1.1.2  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 68:05:ca:3a:af:41 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_gpe_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_eid_table_add_del_map vni 0 vrf 0 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br| ipsec_sad_add_del_entry esp sad_id 10 spi 1000 crypto_alg aes-cbc-128 crypto_key 394e415461624453686238504f35596f integ_alg sha1-96 integ_key 51446c5038366b73514641377a62584941746661  |br| ipsec_sad_add_del_entry esp sad_id 20 spi 1001 crypto_alg aes-cbc-128 crypto_key 394e415461624453686238504f35596f integ_alg sha1-96 integ_key 51446c5038366b73514641377a62584941746661  |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 inbound action protectsa_id 20 laddr_start 1.1.1.2 laddr_stop 1.1.1.2 raddr_start 1.1.1.1 raddr_stop 1.1.1.1  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 outbound action protectsa_id 10 laddr_start 1.1.1.2 laddr_stop 1.1.1.2 raddr_start 1.1.1.1 raddr_stop 1.1.1.1  |br|  |preout|                         |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4ipsectptlispgpe-ip4base-cbc-sha1-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 68:05:ca:35:78:e9 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_gpe_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_eid_table_add_del_map vni 0 vrf 0 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br| ipsec_sad_add_del_entry esp sad_id 10 spi 1001 crypto_alg aes-cbc-128 crypto_key 587077323968383245753469574a7536 integ_alg sha1-96 integ_key 51665250567631705273714e7049447061567863  |br| ipsec_sad_add_del_entry esp sad_id 20 spi 1000 crypto_alg aes-cbc-128 crypto_key 587077323968383245753469574a7536 integ_alg sha1-96 integ_key 51665250567631705273714e7049447061567863  |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 inbound action protectsa_id 20 laddr_start 1.1.1.1 laddr_stop 1.1.1.1 raddr_start 1.1.1.2 raddr_stop 1.1.1.2  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 outbound action protectsa_id 10 laddr_start 1.1.1.1 laddr_stop 1.1.1.1 raddr_start 1.1.1.2 raddr_stop 1.1.1.2  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 68:05:ca:3a:af:41 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_gpe_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_eid_table_add_del_map vni 0 vrf 0 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br| ipsec_sad_add_del_entry esp sad_id 10 spi 1000 crypto_alg aes-cbc-128 crypto_key 587077323968383245753469574a7536 integ_alg sha1-96 integ_key 51665250567631705273714e7049447061567863  |br| ipsec_sad_add_del_entry esp sad_id 20 spi 1001 crypto_alg aes-cbc-128 crypto_key 587077323968383245753469574a7536 integ_alg sha1-96 integ_key 51665250567631705273714e7049447061567863  |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 inbound action protectsa_id 20 laddr_start 1.1.1.2 laddr_stop 1.1.1.2 raddr_start 1.1.1.1 raddr_stop 1.1.1.1  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 outbound action protectsa_id 10 laddr_start 1.1.1.2 laddr_stop 1.1.1.2 raddr_start 1.1.1.1 raddr_stop 1.1.1.1  |br|  |preout|  |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4ipsectptlispgpe-ip4base-cbc-sha1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 68:05:ca:35:78:e9 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_gpe_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_eid_table_add_del_map vni 0 vrf 0 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br| ipsec_sad_add_del_entry esp sad_id 10 spi 1001 crypto_alg aes-cbc-128 crypto_key 38493855456a5132775168615a6f4353 integ_alg sha1-96 integ_key 417743354b326a624a6a3744796536685645796b  |br| ipsec_sad_add_del_entry esp sad_id 20 spi 1000 crypto_alg aes-cbc-128 crypto_key 38493855456a5132775168615a6f4353 integ_alg sha1-96 integ_key 417743354b326a624a6a3744796536685645796b  |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 1 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 inbound action protectsa_id 20 laddr_start 1.1.1.1 laddr_stop 1.1.1.1 raddr_start 1.1.1.2 raddr_stop 1.1.1.2  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 outbound action protectsa_id 10 laddr_start 1.1.1.1 laddr_stop 1.1.1.1 raddr_start 1.1.1.2 raddr_stop 1.1.1.2  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 68:05:ca:3a:af:41 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_gpe_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_eid_table_add_del_map vni 0 vrf 0 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br| ipsec_sad_add_del_entry esp sad_id 10 spi 1000 crypto_alg aes-cbc-128 crypto_key 38493855456a5132775168615a6f4353 integ_alg sha1-96 integ_key 417743354b326a624a6a3744796536685645796b  |br| ipsec_sad_add_del_entry esp sad_id 20 spi 1001 crypto_alg aes-cbc-128 crypto_key 38493855456a5132775168615a6f4353 integ_alg sha1-96 integ_key 417743354b326a624a6a3744796536685645796b  |br| ipsec_spd_add_del spd_id 1 |br| ipsec_interface_add_del_spd sw_if_index 2 spd_id 1 |br| ipsec_spd_add_del_entry spd_id 1 priority 100 inbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 100 outbound action bypass protocol 50  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 inbound action protectsa_id 20 laddr_start 1.1.1.2 laddr_stop 1.1.1.2 raddr_start 1.1.1.1 raddr_stop 1.1.1.1  |br| ipsec_spd_add_del_entry spd_id 1 priority 10 outbound action protectsa_id 10 laddr_start 1.1.1.2 laddr_stop 1.1.1.2 raddr_start 1.1.1.1 raddr_stop 1.1.1.1  |br|  |preout|                         |
+----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

ip4
```



10ge2p1x520-ethip4-ip4base-copwhtlistbase-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 whitelist test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing, two static IPv4 /24 routes and IPv4 COP security whitelist ingress /24 filter entries applied on links TG - DUT1 and DUT2 - TG. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                  | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+=======================================================+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-copwhtlistbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 2 ip4 fib-id 1 |br| cop_interface_enable_disable sw_if_index 2  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| ip_add_del_route 20.20.20.0/24 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 1 ip4 fib-id 1 |br| cop_interface_enable_disable sw_if_index 1  |br|  |preout|  |
+-------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4base-copwhtlistbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 2 ip4 fib-id 1 |br| cop_interface_enable_disable sw_if_index 2  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| ip_add_del_route 20.20.20.0/24 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 1 ip4 fib-id 1 |br| cop_interface_enable_disable sw_if_index 1  |br|  |preout|  |
+-------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4-ip4base-copwhtlistbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 2 ip4 fib-id 1 |br| cop_interface_enable_disable sw_if_index 2  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| ip_add_del_route 20.20.20.0/24 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 1 ip4 fib-id 1 |br| cop_interface_enable_disable sw_if_index 1  |br|  |preout|  |
+-------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-copwhtlistbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 2 ip4 fib-id 1 |br| cop_interface_enable_disable sw_if_index 2  |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| ip_add_del_route 20.20.20.0/24 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 1 ip4 fib-id 1 |br| cop_interface_enable_disable sw_if_index 1  |br|  |preout|  |
+-------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4base-iacldstbase-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 iAcl whitelist test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing, two static IPv4 /24 routes and IPv4 iAcl security whitelist ingress /24 filter entries applied on links TG - DUT1 and DUT2 - TG. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                               | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+====================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-iacldstbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 20.20.20.2 |br| input_acl_set_interface sw_if_index 2 ip4-table 0 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 10.10.10.2 |br| input_acl_set_interface sw_if_index 1 ip4-table 0 |br|  |preout|  |
+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4base-iacldstbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 20.20.20.2 |br| input_acl_set_interface sw_if_index 2 ip4-table 0 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 10.10.10.2 |br| input_acl_set_interface sw_if_index 1 ip4-table 0 |br|  |preout|  |
+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4-ip4base-iacldstbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 20.20.20.2 |br| input_acl_set_interface sw_if_index 2 ip4-table 0 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 10.10.10.2 |br| input_acl_set_interface sw_if_index 1 ip4-table 0 |br|  |preout|  |
+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-iacldstbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 20.20.20.2 |br| input_acl_set_interface sw_if_index 2 ip4-table 0 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 10.10.10.2 |br| input_acl_set_interface sw_if_index 1 ip4-table 0 |br|  |preout|  |
+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4base-ipolicemarkbase-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 policer test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 route entries and policer with 2R3C color-aware configuration. Policer is applied on links TG - DUT1 and DUT2 - TG. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and generated payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544, RFC2698.

+--------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                   | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+========================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-ipolicemarkbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| policer_add_del name policer1  cir 100 eir 150 cb 64 eb 64 rate_type pps round_type closest type 2r3c-2698 conform_action transmit exceed_action mark-and-transmit AF22 violate_action transmit color-aware |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session policer-hit-next 0 exceed-color table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 20.20.20.2 |br| policer_classify_set_interface sw_if_index 2 ip4-table 0 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| policer_add_del name policer1  cir 100 eir 150 cb 64 eb 64 rate_type pps round_type closest type 2r3c-2698 conform_action transmit exceed_action mark-and-transmit AF22 violate_action transmit color-aware |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session policer-hit-next 0 exceed-color table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 10.10.10.2 |br| policer_classify_set_interface sw_if_index 1 ip4-table 0 |br|  |preout|          |
+--------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4base-ipolicemarkbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| policer_add_del name policer1  cir 100 eir 150 cb 1518 eb 1518 rate_type pps round_type closest type 2r3c-2698 conform_action transmit exceed_action mark-and-transmit AF22 violate_action transmit color-aware |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session policer-hit-next 0 exceed-color table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 20.20.20.2 |br| policer_classify_set_interface sw_if_index 2 ip4-table 0 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| policer_add_del name policer1  cir 100 eir 150 cb 1518 eb 1518 rate_type pps round_type closest type 2r3c-2698 conform_action transmit exceed_action mark-and-transmit AF22 violate_action transmit color-aware |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session policer-hit-next 0 exceed-color table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 10.10.10.2 |br| policer_classify_set_interface sw_if_index 1 ip4-table 0 |br|  |preout|  |
+--------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4-ip4base-ipolicemarkbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| policer_add_del name policer1  cir 100 eir 150 cb 9000 eb 9000 rate_type pps round_type closest type 2r3c-2698 conform_action transmit exceed_action mark-and-transmit AF22 violate_action transmit color-aware |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session policer-hit-next 0 exceed-color table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 20.20.20.2 |br| policer_classify_set_interface sw_if_index 2 ip4-table 0 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| policer_add_del name policer1  cir 100 eir 150 cb 9000 eb 9000 rate_type pps round_type closest type 2r3c-2698 conform_action transmit exceed_action mark-and-transmit AF22 violate_action transmit color-aware |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session policer-hit-next 0 exceed-color table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 10.10.10.2 |br| policer_classify_set_interface sw_if_index 1 ip4-table 0 |br|  |preout|  |
+--------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-ipolicemarkbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| policer_add_del name policer1  cir 100 eir 150 cb 64 eb 64 rate_type pps round_type closest type 2r3c-2698 conform_action transmit exceed_action mark-and-transmit AF22 violate_action transmit color-aware |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session policer-hit-next 0 exceed-color table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 20.20.20.2 |br| policer_classify_set_interface sw_if_index 2 ip4-table 0 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| policer_add_del name policer1  cir 100 eir 150 cb 64 eb 64 rate_type pps round_type closest type 2r3c-2698 conform_action transmit exceed_action mark-and-transmit AF22 violate_action transmit color-aware |br| classify_add_del_table mask l3 ip4 dst |br| classify_add_del_session policer-hit-next 0 exceed-color table-index 0 skip_n 1 match_n 2 match l3 ip4 dst 10.10.10.2 |br| policer_classify_set_interface sw_if_index 1 ip4-table 0 |br|  |preout|          |
+--------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4base-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                   | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+========================================+=========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4-ip4base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc19-IMIX-1t1c-ethip4-ip4base-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4base-snat-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''

**SNAT performance test cases**  **High level description**  - NDR and PDR tests - 3-node topology, TG-DUT1-DUT2-TG, SNAT is enabled between DUTs. - Cores / threads: 1t1c and 2t2c - Framesize: 64B, 1518B, IMIX - Packet: ETH / IP(src, dst) / UDP(src_port, dst_port) / payload  **Low level description**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-UDP for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 and IPv4/20 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, one flow per flow-group) with all packets containing Ethernet header, IPv4 header with UDP header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                              | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+===================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-snat-1u-1p-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4base-snat-1u-1p-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4-ip4base-snat-1u-1p-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4scale200k-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and 2x100k static IPv4 /32 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 100k flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+---------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                        | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+=============================================+=======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4scale200k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 100000    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 100000    |br| sw_interface_dump |br|  |preout|  |
+---------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4scale200k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 100000    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 100000    |br| sw_interface_dump |br|  |preout|  |
+---------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4-ip4scale200k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 100000    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 100000    |br| sw_interface_dump |br|  |preout|  |
+---------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4scale200k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 100000    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 100000    |br| sw_interface_dump |br|  |preout|  |
+---------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4scale20k-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and 2x10k static IPv4 /32 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 10k flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                       | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+============================================+==========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4scale20k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 10000    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 10000    |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4scale20k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 10000    |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 10000    |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4-ip4scale20k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 10000    |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 10000    |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4scale20k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 10000    |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 10000    |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4scale2m-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and 2x1M static IPv4 /32 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 1M flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv4 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                      | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+===========================================+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4scale2m-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 1000000    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 1000000    |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4scale2m-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 1000000    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 1000000    |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4-ip4scale2m-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 1000000    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 1000000    |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4scale2m-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_add_del_route 10.0.0.0/32 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 20.0.0.0/32 via 2.2.2.2  sw_if_index 1 resolve-attempts 10 count 1000000    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.1 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.2/30 |br| ip_add_del_route 10.0.0.0/32 via 2.2.2.1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 20.0.0.0/32 via 3.3.3.1  sw_if_index 1 resolve-attempts 10 count 1000000    |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4udp-ip4base-udpsrcscale15-snat-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**SNAT performance test cases**  **High level description**  - NDR and PDR tests - 3-node topology, TG-DUT1-DUT2-TG, SNAT is enabled between DUTs. - Cores / threads: 1t1c and 2t2c - Framesize: 64B, 1518B, IMIX - Packet: ETH / IP(src, dst) / UDP(src_port, dst_port) / payload - scale: src: 1 user, 10 users, 100 users, ..., 4000 up to the memory limit; 15 ports per user  **Low level description**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-UDP for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 and IPv4/20 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, one flow per flow-group) with all packets containing Ethernet header, IPv4 header with UDP header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                         | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+==============================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4udp-ip4base-udpsrcscale15-snat-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+--------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4udp-ip4base-udpsrcscale15-snat-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+--------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4udp-ip4base-udpsrcscale15-snat-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|                                                |
+--------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4udp-ip4scale10-udpsrcscale15-snat-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**SNAT performance test cases**  **High level description**  - NDR and PDR tests - 3-node topology, TG-DUT1-DUT2-TG, SNAT is enabled between DUTs. - Cores / threads: 1t1c and 2t2c - Framesize: 64B, 1518B, IMIX - Packet: ETH / IP(src, dst) / UDP(src_port, dst_port) / payload - scale: src: 1 user, 10 users, 100 users, ..., 4000 up to the memory limit; 15 ports per user  **Low level description**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-UDP for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 and IPv4/20 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, one flow per flow-group) with all packets containing Ethernet header, IPv4 header with UDP header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                            | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+=================================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4udp-ip4scale10-udpsrcscale15-snat-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4udp-ip4scale10-udpsrcscale15-snat-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4udp-ip4scale10-udpsrcscale15-snat-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|                                                |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4udp-ip4scale100-udpsrcscale15-snat-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**SNAT performance test cases**  **High level description**  - NDR and PDR tests - 3-node topology, TG-DUT1-DUT2-TG, SNAT is enabled between DUTs. - Cores / threads: 1t1c and 2t2c - Framesize: 64B, 1518B, IMIX - Packet: ETH / IP(src, dst) / UDP(src_port, dst_port) / payload - scale: src: 1 user, 10 users, 100 users, ..., 4000 up to the memory limit; 15 ports per user  **Low level description**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-UDP for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 and IPv4/20 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, one flow per flow-group) with all packets containing Ethernet header, IPv4 header with UDP header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                             | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+==================================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4udp-ip4scale100-udpsrcscale15-snat-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4udp-ip4scale100-udpsrcscale15-snat-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4udp-ip4scale100-udpsrcscale15-snat-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4udp-ip4scale1000-udpsrcscale15-snat-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**SNAT performance test cases**  **High level description**  - NDR and PDR tests - 3-node topology, TG-DUT1-DUT2-TG, SNAT is enabled between DUTs. - Cores / threads: 1t1c and 2t2c - Framesize: 64B, 1518B, IMIX - Packet: ETH / IP(src, dst) / UDP(src_port, dst_port) / payload - scale: src: 1 user, 10 users, 100 users, ..., 4000 up to the memory limit; 15 ports per user  **Low level description**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-UDP for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 and IPv4/20 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, one flow per flow-group) with all packets containing Ethernet header, IPv4 header with UDP header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                              | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+===================================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4udp-ip4scale1000-udpsrcscale15-snat-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4udp-ip4scale1000-udpsrcscale15-snat-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4udp-ip4scale1000-udpsrcscale15-snat-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4udp-ip4scale2000-udpsrcscale15-snat-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**SNAT performance test cases**  **High level description**  - NDR and PDR tests - 3-node topology, TG-DUT1-DUT2-TG, SNAT is enabled between DUTs. - Cores / threads: 1t1c and 2t2c - Framesize: 64B, 1518B, IMIX - Packet: ETH / IP(src, dst) / UDP(src_port, dst_port) / payload - scale: src: 1 user, 10 users, 100 users, ..., 4000 up to the memory limit; 15 ports per user  **Low level description**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-UDP for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 and IPv4/20 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, one flow per flow-group) with all packets containing Ethernet header, IPv4 header with UDP header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                            | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+=================================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4udp-ip4scale2000-udpsrcscale15-snat-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4udp-ip4scale4000-udpsrcscale15-snat-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**SNAT performance test cases**  **High level description**  - NDR and PDR tests - 3-node topology, TG-DUT1-DUT2-TG, SNAT is enabled between DUTs. - Cores / threads: 1t1c and 2t2c - Framesize: 64B, 1518B, IMIX - Packet: ETH / IP(src, dst) / UDP(src_port, dst_port) / payload - scale: src: 1 user, 10 users, 100 users, ..., 4000 up to the memory limit; 15 ports per user  **Low level description**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-UDP for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 and IPv4/20 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, one flow per flow-group) with all packets containing Ethernet header, IPv4 header with UDP header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                            | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+=================================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4udp-ip4scale4000-udpsrcscale15-snat-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 10.0.0.1/20 |br| sw_interface_add_del_address sw_if_index 1 11.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 10.0.0.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 11.0.0.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 12.0.0.2/32 via 11.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 20.0.0.0/18 via 10.0.0.2  sw_if_index 2 resolve-attempts 10 count 1    |br| exec set interface snat in TenGigabitEtherneta/0/1 out TenGigabitEtherneta/0/0 |br| exec snat deterministic add in 20.0.0.0/18 out 200.0.0.0/30 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 11.0.0.2/20 |br| sw_interface_add_del_address sw_if_index 1 12.0.0.1/20 |br| ip_neighbor_add_del sw_if_index 2 dst 11.0.0.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 12.0.0.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 12.0.0.0/24 via 12.0.0.2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 200.0.0.0/30 via 11.0.0.1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+-----------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4-ip4base-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 route entries. DUT1 and DUT2 tested with 2p40GE NIC XL710 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                   | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+========================================+=========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 68:05:ca:35:78:e9 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 68:05:ca:3a:af:41 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 68:05:ca:35:78:e9 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 68:05:ca:3a:af:41 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 68:05:ca:35:78:e9 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 68:05:ca:3a:af:41 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc19-IMIX-1t1c-ethip4-ip4base-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 68:05:ca:35:78:e9 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/30 |br| ip_add_del_route 20.20.20.0/24 via 1.1.1.2  sw_if_index 1 resolve-attempts 10 count 1    |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 68:05:ca:3a:af:41 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1  sw_if_index 2 resolve-attempts 10 count 1    |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

ip4 tunnels
```````````



10ge2p1x520-ethip4lispip4-ip4base-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''

**RFC6830: Pkt throughput Lisp test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-LISP-IPv4 on DUT1-DUT2, Eth-IPv4 on TG-DUTn for IPv4 routing over LISPoIPv4 tunnel.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and static routes. LISPoIPv4 tunnel is configured between DUT1 and DUT2. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search  

 - **[Ref] Applicable standard specifications:** RFC6830.

+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                          | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+===============================================+==========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4lispip4-ip4base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br|  |preout|                         |
+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1480B-1t1c-ethip4lispip4-ip4base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br|  |preout|  |
+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4lispip4-ip4base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br|  |preout|  |
+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4lispip4-ip4base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_dump |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br|  |preout|  |
+-----------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4lispip6-ip4base-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''

**RFC6830: Pkt throughput Lisp test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4-LISP-IPv6 on DUT1-DUT2 and Eth-IPv4 on TG-DUTn for IPv4 routing over LISPoIPv6 tunnel.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and static routes. LISPoIPv6 tunnel is configured between DUT1 and DUT2. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search  

 - **[Ref] Applicable standard specifications:** RFC6830.

+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                          | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+===============================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4lispip6-ip4base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 2001:3::2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 2001:3::1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br|  |preout|  |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1460B-1t1c-ethip4lispip6-ip4base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 2001:3::2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 2001:3::1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br|  |preout|  |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4lispip6-ip4base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 2001:3::2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 2001:3::1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br|  |preout|  |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4lispip6-ip4base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 10.10.10.1/24 |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 10.10.10.2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 10.10.10.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 20.20.20.0/24 seid 10.10.10.0/24 rloc 2001:3::2 |br| lisp_add_del_adjacency add vni 0 reid 20.20.20.0/24 leid 10.10.10.0/24 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 20.20.20.1/24 |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 20.20.20.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 20.20.20.0/24 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 10.10.10.0/24 seid 20.20.20.0/24 rloc 2001:3::1 |br| lisp_add_del_adjacency add vni 0 reid 10.10.10.0/24 leid 20.20.20.0/24 |br|  |preout|  |
+-----------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4vxlan-l2bdbasemaclrn-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD with VXLANoIPv4 test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 bridge domain on TG-DUTn. Eth-IPv4-VXLAN-Eth-IPv4 is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge domain. VXLAN tunnels are configured between L2BDs on DUT1 and DUT2. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and generated payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544, RFC7348.

+----------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                               | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+====================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4vxlan-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 172.16.0.2 mac 90:e2:ba:b5:05:e5 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| ip_neighbor_add_del sw_if_index 2 dst 172.16.0.1 mac 90:e2:ba:b5:0a:18 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4vxlan-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 172.16.0.2 mac 90:e2:ba:b5:05:e5 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| ip_neighbor_add_del sw_if_index 2 dst 172.16.0.1 mac 90:e2:ba:b5:0a:18 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4vxlan-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 172.16.0.2 mac 90:e2:ba:b5:05:e5 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| ip_neighbor_add_del sw_if_index 2 dst 172.16.0.1 mac 90:e2:ba:b5:0a:18 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4vxlan-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 172.16.0.2 mac 90:e2:ba:b5:05:e5 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| ip_neighbor_add_del sw_if_index 2 dst 172.16.0.1 mac 90:e2:ba:b5:0a:18 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4vxlan-l2xcbase-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2XC with VXLANoIPv4 test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 cross-connect on TG-DUTn. Eth-IPv4-VXLAN-Eth-IPv4 is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. VXLAN tunnels are configured between L2XCs on DUT1 and DUT2. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and generated payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544, RFC7348.

+----------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                         | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+==============================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4vxlan-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 172.16.0.2 mac 90:e2:ba:b5:05:e5 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| ip_neighbor_add_del sw_if_index 2 dst 172.16.0.1 mac 90:e2:ba:b5:0a:18 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+----------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4vxlan-l2xcbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 172.16.0.2 mac 90:e2:ba:b5:05:e5 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| ip_neighbor_add_del sw_if_index 2 dst 172.16.0.1 mac 90:e2:ba:b5:0a:18 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+----------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip4vxlan-l2xcbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 172.16.0.2 mac 90:e2:ba:b5:05:e5 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| ip_neighbor_add_del sw_if_index 2 dst 172.16.0.1 mac 90:e2:ba:b5:0a:18 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+----------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4vxlan-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| ip_neighbor_add_del sw_if_index 1 dst 172.16.0.2 mac 90:e2:ba:b5:05:e5 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| ip_neighbor_add_del sw_if_index 2 dst 172.16.0.1 mac 90:e2:ba:b5:0a:18 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+----------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

ip6
```



10ge2p1x520-ethip6-ip6base-copwhtlistbase-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv6 whitelist test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6 for IPv6 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv6 routing, two static IPv6 /64 routes and IPv6 COP security whitelist ingress /64 filter entries applied on links TG - DUT1 and DUT2 - TG. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv6 header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                  | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+=======================================================+=========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-78B-1t1c-ethip6-ip6base-copwhtlistbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 2001:1::/64 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 2 ip6 fib-id 1 |br| cop_interface_enable_disable sw_if_index 2  |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 2001:2::/64 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 1 ip6 fib-id 1 |br| cop_interface_enable_disable sw_if_index 1  |br|  |preout|  |
+-------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip6-ip6base-copwhtlistbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 2001:1::/64 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 2 ip6 fib-id 1 |br| cop_interface_enable_disable sw_if_index 2  |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 2001:2::/64 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 1 ip6 fib-id 1 |br| cop_interface_enable_disable sw_if_index 1  |br|  |preout|  |
+-------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip6-ip6base-copwhtlistbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 2001:1::/64 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 2 ip6 fib-id 1 |br| cop_interface_enable_disable sw_if_index 2  |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 2001:2::/64 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 1 ip6 fib-id 1 |br| cop_interface_enable_disable sw_if_index 1  |br|  |preout|  |
+-------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-78B-2t2c-ethip6-ip6base-copwhtlistbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 2001:1::/64 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 2 ip6 fib-id 1 |br| cop_interface_enable_disable sw_if_index 2  |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 2001:2::/64 local vrf 1 create-vrf |br| cop_whitelist_enable_disable sw_if_index 1 ip6 fib-id 1 |br| cop_interface_enable_disable sw_if_index 1  |br|  |preout|  |
+-------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip6-ip6base-iacldstbase-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv6 iAcl whitelist test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6 for IPv6 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv6 routing, two static IPv6 /64 routes and IPv6 iAcl security whitelist ingress /64 filter entries applied on links TG - DUT1 and DUT2 - TG. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv6 header and generated payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                               | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+====================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-78B-1t1c-ethip6-ip6base-iacldstbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br| classify_add_del_table mask l3 ip6 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 2 match_n 2 match l3 ip6 dst 2001:2::2 |br| input_acl_set_interface sw_if_index 2 ip6-table 0 |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br| classify_add_del_table mask l3 ip6 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 2 match_n 2 match l3 ip6 dst 2001:1::2 |br| input_acl_set_interface sw_if_index 1 ip6-table 0 |br|  |preout|  |
+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip6-ip6base-iacldstbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br| classify_add_del_table mask l3 ip6 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 2 match_n 2 match l3 ip6 dst 2001:2::2 |br| input_acl_set_interface sw_if_index 2 ip6-table 0 |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br| classify_add_del_table mask l3 ip6 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 2 match_n 2 match l3 ip6 dst 2001:1::2 |br| input_acl_set_interface sw_if_index 1 ip6-table 0 |br|  |preout|  |
+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip6-ip6base-iacldstbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br| classify_add_del_table mask l3 ip6 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 2 match_n 2 match l3 ip6 dst 2001:2::2 |br| input_acl_set_interface sw_if_index 2 ip6-table 0 |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br| classify_add_del_table mask l3 ip6 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 2 match_n 2 match l3 ip6 dst 2001:1::2 |br| input_acl_set_interface sw_if_index 1 ip6-table 0 |br|  |preout|  |
+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-78B-2t2c-ethip6-ip6base-iacldstbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br| classify_add_del_table mask l3 ip6 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 2 match_n 2 match l3 ip6 dst 2001:2::2 |br| input_acl_set_interface sw_if_index 2 ip6-table 0 |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br| classify_add_del_table mask l3 ip6 dst |br| classify_add_del_session acl-hit-next permit table-index 0 skip_n 2 match_n 2 match l3 ip6 dst 2001:1::2 |br| input_acl_set_interface sw_if_index 1 ip6-table 0 |br|  |preout|  |
+----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip6-ip6base-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv6 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6 for IPv6 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv6 routing and two static IPv6 /64 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv6 header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                   | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+========================================+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-78B-1t1c-ethip6-ip6base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip6-ip6base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip6-ip6base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-78B-2t2c-ethip6-ip6base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip6-ip6scale200k-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv6 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6 for IPv6 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv6 routing and 2x100k static IPv6 /64 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 100k flows per flow-group) with all packets containing Ethernet header, IPv6 header withq IP and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv6 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+---------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                        | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+=============================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-78B-1t1c-ethip6-ip6scale200k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 100000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 100000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 100000    |br|  |preout|  |
+---------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip6-ip6scale200k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 100000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 100000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 100000    |br|  |preout|  |
+---------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip6-ip6scale200k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 100000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 100000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 100000    |br|  |preout|  |
+---------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-78B-2t2c-ethip6-ip6scale200k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 100000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 100000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 100000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 100000    |br|  |preout|  |
+---------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip6-ip6scale20k-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv6 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6 for IPv6 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv6 routing and 2x10k static IPv6 /64 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 10k flows per flow-group) with all packets containing Ethernet header, IPv6 header withq IP and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv6 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                       | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+============================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-78B-1t1c-ethip6-ip6scale20k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 10000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 10000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 10000    |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip6-ip6scale20k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 10000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 10000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 10000    |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip6-ip6scale20k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 10000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 10000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 10000    |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-78B-2t2c-ethip6-ip6scale20k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 10000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 10000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 10000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 10000    |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip6-ip6scale2m-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv6 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6 for IPv6 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv6 routing and 2x1M static IPv6 /64 route entries. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 1M flows per flow-group) with all packets containing Ethernet header, IPv6 header withq IP and static payload. MAC addresses are matching MAC addresses of the TG node interfaces. Incrementing of IP.dst (IPv6 destination address) field is applied to both streams.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                      | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+===========================================+=====================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-78B-1t1c-ethip6-ip6scale2m-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 1000000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 1000000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 1000000    |br|  |preout|  |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip6-ip6scale2m-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 1000000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 1000000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 1000000    |br|  |preout|  |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip6-ip6scale2m-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 1000000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 1000000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 1000000    |br|  |preout|  |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-78B-2t2c-ethip6-ip6scale2m-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:4::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:4::2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 2001:2::0/128 via 2001:4::2  sw_if_index 1 resolve-attempts 10 count 1000000    |br| ip_add_del_route 2001:1::0/128 via 2001:3::2  sw_if_index 2 resolve-attempts 10 count 1000000    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:4::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:5::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:4::1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:5::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 2001:1::0/128 via 2001:4::1  sw_if_index 2 resolve-attempts 10 count 1000000    |br| ip_add_del_route 2001:2::0/128 via 2001:5::2  sw_if_index 1 resolve-attempts 10 count 1000000    |br|  |preout|  |
+-------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip6-ip6base-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv6 routing test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6 for IPv6 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv6 routing and two static IPv6 /64 route entries. DUT1 and DUT2 tested with 2p40GE NIC XL710 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv6 header and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                   | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+========================================+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-78B-1t1c-ethip6-ip6base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip6-ip6base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-78B-2t2c-ethip6-ip6base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 2001:2::0/64 via 2001:3::2  sw_if_index 1 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 68:05:ca:3a:af:41 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 68:05:ca:37:20:48 |br| ip_add_del_route 2001:1::0/64 via 2001:3::1  sw_if_index 2 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

ip6 tunnels
```````````



10ge2p1x520-ethip6lispip4-ip6base-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''

**RFC6830: Pkt throughput Lisp test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6-LISP-IPv4 on DUT1-DUT2, Eth-IPv6 on TG-DUTn for IPv6 routing over LISPoIPv4 tunnel.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv6 routing and static routes. LISPoIPv4 tunnel is configured between DUT1 and DUT2. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search  

 - **[Ref] Applicable standard specifications:** RFC6830.

+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                          | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+===============================================+=======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-78B-1t1c-ethip6lispip4-ip6base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:1::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:2::0/64 seid 2001:1::0/64 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 2001:2::0/64 leid 2001:1::0/64 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:2::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:1::0/64 seid 2001:2::0/64 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 2001:1::0/64 leid 2001:2::0/64 |br|  |preout|  |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1460B-1t1c-ethip6lispip4-ip6base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:1::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:2::0/64 seid 2001:1::0/64 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 2001:2::0/64 leid 2001:1::0/64 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:2::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:1::0/64 seid 2001:2::0/64 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 2001:1::0/64 leid 2001:2::0/64 |br|  |preout|  |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip6lispip4-ip6base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:1::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:2::0/64 seid 2001:1::0/64 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 2001:2::0/64 leid 2001:1::0/64 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:2::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:1::0/64 seid 2001:2::0/64 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 2001:1::0/64 leid 2001:2::0/64 |br|  |preout|  |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-78B-2t2c-ethip6lispip4-ip6base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 1.1.1.1/24 |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 1.1.1.2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:1::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:2::0/64 seid 2001:1::0/64 rloc 1.1.1.2 |br| lisp_add_del_adjacency add vni 0 reid 2001:2::0/64 leid 2001:1::0/64 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/24 |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:2::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:1::0/64 seid 2001:2::0/64 rloc 1.1.1.1 |br| lisp_add_del_adjacency add vni 0 reid 2001:1::0/64 leid 2001:2::0/64 |br|  |preout|  |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip6lispip6-ip6base-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''

**RFC6830: Pkt throughput Lisp test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv6-LISP-IPv6 on DUT1-DUT2, Eth-IPv6 on TG-DUTn for IPv6 routing over LISPoIPv6 tunnel.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv6 routing and static routes. LISPoIPv6 tunnel is configured between DUT1 and DUT2. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search  

 - **[Ref] Applicable standard specifications:** RFC6830.

+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                          | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+===============================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-78B-1t1c-ethip6lispip6-ip6base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:1::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:2::0/64 seid 2001:1::0/64 rloc 2001:3::2 |br| lisp_add_del_adjacency add vni 0 reid 2001:2::0/64 leid 2001:1::0/64 |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:2::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:1::0/64 seid 2001:2::0/64 rloc 2001:3::1 |br| lisp_add_del_adjacency add vni 0 reid 2001:1::0/64 leid 2001:2::0/64 |br|  |preout|  |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1460B-1t1c-ethip6lispip6-ip6base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:1::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:2::0/64 seid 2001:1::0/64 rloc 2001:3::2 |br| lisp_add_del_adjacency add vni 0 reid 2001:2::0/64 leid 2001:1::0/64 |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:2::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:1::0/64 seid 2001:2::0/64 rloc 2001:3::1 |br| lisp_add_del_adjacency add vni 0 reid 2001:1::0/64 leid 2001:2::0/64 |br|  |preout|  |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-ethip6lispip6-ip6base-ndrdisc |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:1::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:2::0/64 seid 2001:1::0/64 rloc 2001:3::2 |br| lisp_add_del_adjacency add vni 0 reid 2001:2::0/64 leid 2001:1::0/64 |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:2::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:1::0/64 seid 2001:2::0/64 rloc 2001:3::1 |br| lisp_add_del_adjacency add vni 0 reid 2001:1::0/64 leid 2001:2::0/64 |br|  |preout|  |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-78B-2t2c-ethip6lispip6-ip6base-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_add_del_address sw_if_index 2 2001:1::1/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:3::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 2 dst 2001:1::2 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2001:3::2 mac 90:e2:ba:b5:05:e5 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 1 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:1::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:2::0/64 seid 2001:1::0/64 rloc 2001:3::2 |br| lisp_add_del_adjacency add vni 0 reid 2001:2::0/64 leid 2001:1::0/64 |br|  |br| **DUT2:** |br| sw_interface_add_del_address sw_if_index 2 2001:3::2/64 |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_add_del_address sw_if_index 1 2001:2::1/64 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 11 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 10 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 6 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 2 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 5 surpress |br| sw_interface_ip6nd_ra_config sw_if_index 1 surpress |br| ip_neighbor_add_del sw_if_index 1 dst 2001:2::2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 2 dst 2001:3::1 mac 90:e2:ba:b5:0a:18 |br| lisp_enable_disable enable |br| lisp_add_del_locator_set locator-set ls1 |br| lisp_add_del_locator locator-set ls1 sw_if_index 2 p 1 w 1 |br| lisp_add_del_local_eid vni 0 eid 2001:2::0/64 locator-set ls1 |br| lisp_add_del_remote_mapping add vni 0 eid 2001:1::0/64 seid 2001:2::0/64 rloc 2001:3::1 |br| lisp_add_del_adjacency add vni 0 reid 2001:1::0/64 leid 2001:2::0/64 |br|  |preout|  |
+-----------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

l2
``



10ge2p1vic1227-eth-l2bdbasemaclrn-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2BD test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. DUT1 and DUT2 tested with 2p10GE NIC Cisco-VIC-1227.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                       | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+============================================+=====================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-eth-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-dot1ad-l2xcbase-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2XC with 802.1ad test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 xconnect. 802.1ad tagging is applied on link between DUT1 and DUT2 with inner 4B vlan tag (id=100) and outer 4B vlan tag (id=200).  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                    | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+=========================================+=======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-dot1ad-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_subif sw_if_index 1 sub_id 10 outer_vlan_id 100 inner_vlan_id 200 two_tags |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-2    |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_subif sw_if_index 2 sub_id 10 outer_vlan_id 100 inner_vlan_id 200 two_tags |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-2    |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+-----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1514B-1t1c-dot1ad-l2xcbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_subif sw_if_index 1 sub_id 10 outer_vlan_id 100 inner_vlan_id 200 two_tags |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-2    |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_subif sw_if_index 2 sub_id 10 outer_vlan_id 100 inner_vlan_id 200 two_tags |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-2    |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+-----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-dot1ad-l2xcbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_subif sw_if_index 1 sub_id 10 outer_vlan_id 100 inner_vlan_id 200 two_tags |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-2    |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_subif sw_if_index 2 sub_id 10 outer_vlan_id 100 inner_vlan_id 200 two_tags |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-2    |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+-----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-dot1ad-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_subif sw_if_index 1 sub_id 10 outer_vlan_id 100 inner_vlan_id 200 two_tags |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-2    |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_subif sw_if_index 2 sub_id 10 outer_vlan_id 100 inner_vlan_id 200 two_tags |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-2    |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+-----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-dot1q-l2xcbase-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2XC with 802.1q test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 cross connect. 802.1q tagging is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                   | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+========================================+===================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-dot1q-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-dot1q-l2xcbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-dot1q-l2xcbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-dot1q-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br|  |preout|  |
+----------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-aclinpermit-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with ACL**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 is configured with L2 bridge domain and MAC learning enabled. DUT2 is configured with L2 cross-connects. Required ACL rules are applied to input paths of both DUT1 intefaces. DUT1 and DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+=====================================================================+======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-iacl1-stateless-flows100-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-64B-1t1c-eth-l2bdbasemaclrn-iacl10-stateless-flows100-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-64B-1t1c-eth-l2bdbasemaclrn-iacl50-stateless-flows100-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-1t1c-eth-l2bdbasemaclrn-iacl1-stateless-flows10k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc09-64B-1t1c-eth-l2bdbasemaclrn-iacl10-stateless-flows10k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc11-64B-1t1c-eth-l2bdbasemaclrn-iacl50-stateless-flows10k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc13-64B-1t1c-eth-l2bdbasemaclrn-iacl1-stateless-flows100k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc15-64B-1t1c-eth-l2bdbasemaclrn-iacl10-stateless-flows100k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc17-64B-1t1c-eth-l2bdbasemaclrn-iacl50-stateless-flows100k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-aclinpermitreflect-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with ACL**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 is configured with L2 bridge domain and MAC learning enabled. DUT2 is configured with L2 cross-connects. Required ACL rules are applied to input paths of both DUT1 intefaces. DUT1 and DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+=====================================================================+======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-iacl1-statefull-flows100-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-64B-1t1c-eth-l2bdbasemaclrn-iacl10-statefull-flows100-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-64B-1t1c-eth-l2bdbasemaclrn-iacl50-statefull-flows100-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-1t1c-eth-l2bdbasemaclrn-iacl1-statefull-flows10k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc09-64B-1t1c-eth-l2bdbasemaclrn-iacl10-statefull-flows10k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc11-64B-1t1c-eth-l2bdbasemaclrn-iacl50-statefull-flows10k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                         |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc13-64B-1t1c-eth-l2bdbasemaclrn-iacl1-statefull-flows100k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc15-64B-1t1c-eth-l2bdbasemaclrn-iacl10-statefull-flows100k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc17-64B-1t1c-eth-l2bdbasemaclrn-iacl50-statefull-flows100k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 input 0 |br| acl_interface_set_acl_list sw_if_index 1 input 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                       |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-acloutpermit-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with ACL**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 is configured with L2 bridge domain and MAC learning enabled. DUT2 is configured with L2 cross-connects. Required ACL rules are applied to output paths of both DUT1 intefaces. DUT1 and DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+=====================================================================+==========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-oacl1-stateless-flows100-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-64B-1t1c-eth-l2bdbasemaclrn-oacl10-stateless-flows100-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-64B-1t1c-eth-l2bdbasemaclrn-oacl50-stateless-flows100-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-1t1c-eth-l2bdbasemaclrn-oacl1-stateless-flows10k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc09-64B-1t1c-eth-l2bdbasemaclrn-oacl10-stateless-flows10k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc11-64B-1t1c-eth-l2bdbasemaclrn-oacl50-stateless-flows10k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                         |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc13-64B-1t1c-eth-l2bdbasemaclrn-oacl1-stateless-flows100k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc15-64B-1t1c-eth-l2bdbasemaclrn-oacl10-stateless-flows100k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc17-64B-1t1c-eth-l2bdbasemaclrn-oacl50-stateless-flows100k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit src 10.10.10.0/24, ipv4 permit src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                         |
+---------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-acloutpermitreflect-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with ACL**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 is configured with L2 bridge domain and MAC learning enabled. DUT2 is configured with L2 cross-connects. Required ACL rules are applied to output paths of both DUT1 intefaces. DUT1 and DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
+=====================================================================+========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-oacl1-statefull-flows100-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-64B-1t1c-eth-l2bdbasemaclrn-oacl10-statefull-flows100-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-64B-1t1c-eth-l2bdbasemaclrn-oacl50-statefull-flows100-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-1t1c-eth-l2bdbasemaclrn-oacl1-statefull-flows10k-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc09-64B-1t1c-eth-l2bdbasemaclrn-oacl10-statefull-flows10k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc11-64B-1t1c-eth-l2bdbasemaclrn-oacl50-statefull-flows10k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                       |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc13-64B-1t1c-eth-l2bdbasemaclrn-oacl1-statefull-flows100k-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc15-64B-1t1c-eth-l2bdbasemaclrn-oacl10-statefull-flows100k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc17-64B-1t1c-eth-l2bdbasemaclrn-oacl50-statefull-flows100k-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| acl_add_replace  ipv4 permit src 30.30.30.1/32 dst 40.40.40.1/32 sport 1000 dport 1000, src 30.30.30.2/32 dst 40.40.40.2/32 sport 1001 dport 1001, src 30.30.30.3/32 dst 40.40.40.3/32 sport 1002 dport 1002, src 30.30.30.4/32 dst 40.40.40.4/32 sport 1003 dport 1003, src 30.30.30.5/32 dst 40.40.40.5/32 sport 1004 dport 1004, src 30.30.30.6/32 dst 40.40.40.6/32 sport 1005 dport 1005, src 30.30.30.7/32 dst 40.40.40.7/32 sport 1006 dport 1006, src 30.30.30.8/32 dst 40.40.40.8/32 sport 1007 dport 1007, src 30.30.30.9/32 dst 40.40.40.9/32 sport 1008 dport 1008, src 30.30.30.10/32 dst 40.40.40.10/32 sport 1009 dport 1009, src 30.30.30.11/32 dst 40.40.40.11/32 sport 1010 dport 1010, src 30.30.30.12/32 dst 40.40.40.12/32 sport 1011 dport 1011, src 30.30.30.13/32 dst 40.40.40.13/32 sport 1012 dport 1012, src 30.30.30.14/32 dst 40.40.40.14/32 sport 1013 dport 1013, src 30.30.30.15/32 dst 40.40.40.15/32 sport 1014 dport 1014, src 30.30.30.16/32 dst 40.40.40.16/32 sport 1015 dport 1015, src 30.30.30.17/32 dst 40.40.40.17/32 sport 1016 dport 1016, src 30.30.30.18/32 dst 40.40.40.18/32 sport 1017 dport 1017, src 30.30.30.19/32 dst 40.40.40.19/32 sport 1018 dport 1018, src 30.30.30.20/32 dst 40.40.40.20/32 sport 1019 dport 1019, src 30.30.30.21/32 dst 40.40.40.21/32 sport 1020 dport 1020, src 30.30.30.22/32 dst 40.40.40.22/32 sport 1021 dport 1021, src 30.30.30.23/32 dst 40.40.40.23/32 sport 1022 dport 1022, src 30.30.30.24/32 dst 40.40.40.24/32 sport 1023 dport 1023, src 30.30.30.25/32 dst 40.40.40.25/32 sport 1024 dport 1024, src 30.30.30.26/32 dst 40.40.40.26/32 sport 1025 dport 1025, src 30.30.30.27/32 dst 40.40.40.27/32 sport 1026 dport 1026, src 30.30.30.28/32 dst 40.40.40.28/32 sport 1027 dport 1027, src 30.30.30.29/32 dst 40.40.40.29/32 sport 1028 dport 1028, src 30.30.30.30/32 dst 40.40.40.30/32 sport 1029 dport 1029, src 30.30.30.31/32 dst 40.40.40.31/32 sport 1030 dport 1030, src 30.30.30.32/32 dst 40.40.40.32/32 sport 1031 dport 1031, src 30.30.30.33/32 dst 40.40.40.33/32 sport 1032 dport 1032, src 30.30.30.34/32 dst 40.40.40.34/32 sport 1033 dport 1033, src 30.30.30.35/32 dst 40.40.40.35/32 sport 1034 dport 1034, src 30.30.30.36/32 dst 40.40.40.36/32 sport 1035 dport 1035, src 30.30.30.37/32 dst 40.40.40.37/32 sport 1036 dport 1036, src 30.30.30.38/32 dst 40.40.40.38/32 sport 1037 dport 1037, src 30.30.30.39/32 dst 40.40.40.39/32 sport 1038 dport 1038, src 30.30.30.40/32 dst 40.40.40.40/32 sport 1039 dport 1039, src 30.30.30.41/32 dst 40.40.40.41/32 sport 1040 dport 1040, src 30.30.30.42/32 dst 40.40.40.42/32 sport 1041 dport 1041, src 30.30.30.43/32 dst 40.40.40.43/32 sport 1042 dport 1042, src 30.30.30.44/32 dst 40.40.40.44/32 sport 1043 dport 1043, src 30.30.30.45/32 dst 40.40.40.45/32 sport 1044 dport 1044, src 30.30.30.46/32 dst 40.40.40.46/32 sport 1045 dport 1045, src 30.30.30.47/32 dst 40.40.40.47/32 sport 1046 dport 1046, src 30.30.30.48/32 dst 40.40.40.48/32 sport 1047 dport 1047, src 30.30.30.49/32 dst 40.40.40.49/32 sport 1048 dport 1048, src 30.30.30.50/32 dst 40.40.40.50/32 sport 1049 dport 1049, ipv4 permit+reflect src 10.10.10.0/24, ipv4 permit+reflect src 20.20.20.0/24        |br| acl_interface_set_acl_list sw_if_index 2 output 0 |br| acl_interface_set_acl_list sw_if_index 1 output 0 |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                         |
+---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2BD test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. DUT1 and DUT2 tested with 2p10GE NI X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                       | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+============================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-eth-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                                                                                                                                            |
+--------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2xcbase-eth-2memif-1lxc-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2XC test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 cross connect.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel. LXC is connected to VPP via Memif interface. LXC is running same VPP version as running on DUT. LXC is limited via cgroup to use 3 cores allocated from pool of isolated CPUs. There are no memory contraints.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                 | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+======================================================+=========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-eth-2memif-1lxc-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |preout|  |
+------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-IMIX-1t1c-eth-l2xcbase-eth-2memif-1lxc-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |preout|  |
+------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-1518B-1t1c-eth-l2xcbase-eth-2memif-1lxc-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |preout|  |
+------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-eth-2memif-1lxc-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |preout|  |
+------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc09-IMIX-2t2c-eth-l2xcbase-eth-2memif-1lxc-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |preout|  |
+------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc11-1518B-2t2c-eth-l2xcbase-eth-2memif-1lxc-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| memif_create id 1 socket /tmp/memif-1-1 master |br| memif_create id 2 socket /tmp/memif-1-2 master |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 3 |br|  |preout|  |
+------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2xcbase-ndrpdrdisc
'''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2XC test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 cross connect.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. DUT1 and DUT2 tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                 | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+======================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                         |
+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2xcbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-eth-l2xcbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc19-IMIX-1t1c-eth-l2xcbase-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x710-eth-l2bdbasemaclrn-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2BD test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. DUT1 and DUT2 tested with 2p10GE NIC X710 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                       | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+============================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-eth-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                         |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1vic1385-eth-l2bdbasemaclrn-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2BD test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. DUT1 and DUT2 tested with 2p40GE NIC NIC_Cisco-VIC-1385.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                       | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+============================================+=====================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-9000B-1t1c-eth-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc19-IMIX-1t1c-eth-l2bdbasemaclrn-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-eth-l2bdbasemaclrn-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2BD test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. DUT1 and DUT2 tested with 2p40GE NIC XL710-DA2 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                       | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+============================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc19-IMIX-1t1c-eth-l2bdbasemaclrn-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_dump |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| bridge_domain_add_del bd_id 1 flood 1 uu-flood 1 forward 1 learn 1 arp-term 0 |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0  enable |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 1 shg 0  enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-eth-l2xcbase-ndrpdrdisc
''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2XC test cases**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 cross connect.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. DUT1 and DUT2 tested with 2p40GE NIC XL710 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                 | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+======================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2xcbase-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc19-IMIX-1t1c-eth-l2xcbase-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 2 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

vm vhost
````````



10ge2p1x520-dot1q-l2bdbasemaclrn-eth-2vhost-1vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4. 802.1q tagging is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                        | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+=============================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-dot1q-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-dot1q-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-dot1q-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-dot1q-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-dot1q-l2xcbase-eth-2vhost-1vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2XC test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 cross connect. 802.1q tagging is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+=====================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 3 |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 3 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 1 |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2xcbase-eth-2vhost-1vm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 3 |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 3 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 1 |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2xcbase-eth-2vhost-1vm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 3 |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 3 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 1 |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 1 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 3 |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vlan_subif sw_if_index 2 vlan 10 |br| exec show interfaces |br| sw_interface_set_flags sw_if_index 3 admin-up |br| l2_interface_vlan_tag_rewrite sw_if_index 3 pop-1    |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 3 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 1 |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-eth-2vhostvr1024-1vm-cfsrr1-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4. 802.1q tagging is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=1024, burst=64. Scheduler policy is set to SCHED_RR with priority 1 for all Qemu CPUs. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel..  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                   | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+========================================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-etc-l2bdbasemaclrn-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2bdbasemaclrn-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-eth-2vhostvr1024-1vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=1024, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                            | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+=================================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-eth-2vhostvr1024-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-eth-2vhostvr1024-1vm-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2bdbasemaclrn-eth-2vhostvr1024-1vm-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-eth-2vhostvr1024-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-eth-2vhostvr256-1vm-cfsrr1-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4. 802.1q tagging is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. Scheduler policy is set to SCHED_RR with priority 1 for all Qemu CPUs. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                  | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+=======================================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-eth-2vhostvr256-1vm-cfsrr1-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-etc-l2bdbasemaclrn-eth-2vhostvr256-1vm-cfsrr1-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2bdbasemaclrn-eth-2vhostvr256-1vm-cfsrr1-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-eth-2vhostvr256-1vm-cfsrr1-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-eth-2vhostvr256-1vm-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4. 802.1q tagging is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                           | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+================================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-eth-2vhostvr256-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-etc-l2bdbasemaclrn-eth-2vhostvr256-1vm-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |preout|                                                |
+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2bdbasemaclrn-eth-2vhostvr256-1vm-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-eth-2vhostvr256-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domains and MAC learning enabled. Qemu Guests are connected to VPP via vhost-user interfaces. Guests are running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 6-10 and 11-15 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                      | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+===========================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br| bridge_domain_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br| bridge_domain_dump |br|  |preout|  |
+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br| bridge_domain_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br| bridge_domain_dump |br|  |preout|  |
+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br| bridge_domain_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br| bridge_domain_dump |br|  |preout|  |
+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br| bridge_domain_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br| bridge_domain_dump |br|  |preout|  |
+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2xcbase-eth-2vhostvr1024-1vm-cfsrr1-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4. 802.1q tagging is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=1024, burst=64. Scheduler policy is set to SCHED_RR with priority 1 for all Qemu CPUs. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                             | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+==================================================================+============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-etc-l2xcbase-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2xcbase-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2xcbase-eth-2vhostvr1024-1vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2XC test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 cross connect.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=1024, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                      | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+===========================================================+============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-eth-2vhostvr1024-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2xcbase-eth-2vhostvr1024-1vm-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2xcbase-eth-2vhostvr1024-1vm-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-eth-2vhostvr1024-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                         |
+-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2xcbase-eth-2vhostvr256-1vm-cfsrr1-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2XC test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4. 802.1q tagging is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. Scheduler policy is set to SCHED_RR with priority 1 for all Qemu CPUs. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                            | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+=================================================================+============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-eth-2vhostvr256-1vm-cfsrr1-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-etc-l2xcbase-eth-2vhostvr256-1vm-cfsrr1-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2xcbase-eth-2vhostvr256-1vm-cfsrr1-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|                         |
+-----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-eth-2vhostvr256-1vm-cfsrr1-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2xcbase-eth-2vhostvr256-1vm-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2XC test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4. 802.1q tagging is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connect. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                     | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+==========================================================+============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-eth-2vhostvr256-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-etc-l2xcbase-eth-2vhostvr256-1vm-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2xcbase-eth-2vhostvr256-1vm-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-eth-2vhostvr256-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 4 |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 1 |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-eth-l2xcbase-eth-4vhost-2vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2XC test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 cross connect.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connects. Qemu Guests are connected to VPP via vhost-user interfaces. Guests are running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 6-10 and 11-15 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+=====================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |preout|  |
+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2xcbase-eth-4vhost-2vm-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |preout|  |
+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2xcbase-eth-4vhost-2vm-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |preout|  |
+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |preout|  |
+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4base-eth-2vhostvr1024-1vm-cfsrr1-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 route entries. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to mac, rxd/txd=1024, burst=64. Scheduler policy is set to SCHED_RR with priority 1 for all Qemu CPUs. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                                   | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+========================================================================+=======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc       |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-etc-l2bdbasemaclrn-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4-ip4base-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc      |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-eth-2vhostvr1024-1vm-cfsrr1-ndrdisc       |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4base-eth-2vhostvr1024-1vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 route entries. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to mac, rxd/txd=1024, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                        | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+=============================================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-eth-2vhostvr1024-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4base-eth-2vhostvr1024-1vm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4-ip4base-eth-2vhostvr1024-1vm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-eth-2vhostvr1024-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1 |br| create_vhost_user_if socket /tmp/sock-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4base-eth-2vhostvr256-1vm-cfsrr1-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput IP4 test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 route entries. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to mac, rxd/txd=256, burst=64. Scheduler policy is set to SCHED_RR with priority 1 for all Qemu CPUs. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+--------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                               | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+====================================================================+=======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-eth-2vhostvr256-1vm-cfsrr1-ndrdisc    |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|                                                |
+--------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c--ethip4-ip4base-eth-2vhostvr256-1vm-cfsrr1-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+--------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4-ip4base-eth-2vhostvr256-1vm-cfsrr1-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+--------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-eth-2vhostvr256-1vm-cfsrr1-ndrdisc    |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+--------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4base-eth-2vhostvr256-1vm-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput IP4 test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and two static IPv4 /24 route entries. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to mac, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                       | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+============================================================+=======================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-eth-2vhostvr256-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4base-eth-2vhostvr256-1vm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4-ip4base-eth-2vhostvr256-1vm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-eth-2vhostvr256-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 100 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 100 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 101 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 100  |br| sw_interface_set_table sw_if_index 3 vrf 100  |br| sw_interface_set_table sw_if_index 1 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 101  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:04:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:04:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 100 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 100 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 101 sw_if_index 1 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 101 sw_if_index 4 resolve-attempts 10 count 1    |br|  |preout|  |
+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4-ip4base-eth-4vhost-2vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput IPv4 test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for IPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and static IPv4 /24 route entries. Qemu Guests are connected to VPP via vhost-user interfaces. Guests are running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 6-10 and 11-15 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to mac, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                  | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+=======================================================+===================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4-ip4base-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4-ip4base-eth-4vhost-2vm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4-ip4base-eth-4vhost-2vm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4-ip4base-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 3c:fd:fe:9c:ee:a0 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 90:e2:ba:b5:05:e5 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 90:e2:ba:b5:0a:18 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 3c:fd:fe:9c:ee:a1 |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |preout|  |
+-------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x520-ethip4vxlan-l2bdbasemaclrn-eth-2vhost-1vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with VXLANoIPv4 and vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4. Eth-IPv4-VXLAN-Eth-IPv4 is applied on link between DUT1 and DUT2.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus 5-9 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X520 Niantic by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544, RFC7348.

+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                              | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+===================================================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-ethip4vxlan-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-ethip4vxlan-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-ethip4vxlan-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-ethip4vxlan-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 1 172.16.0.1/24 |br| vxlan_add_del_tunnel src 172.16.0.1 dst 172.16.0.2 vni 24 |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_add_del_address sw_if_index 2 172.16.0.2/24 |br| vxlan_add_del_tunnel src 172.16.0.2 dst 172.16.0.1 vni 24 |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |preout|  |
+-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

10ge2p1x710-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrpdrdisc
''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Pkt throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus on NUMA1 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p10GE NIC X710 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                      | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+===========================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. Qemu Guest is connected to VPP via vhost-user interfaces. Guest is running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus on NUMA1 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p40GE NIC XL710 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                      | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+===========================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-eth-2vhost-1vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br|  |preout|  |
+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2BD test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 bridge- domain and MAC learning enabled. Qemu Guests are connected to VPP via vhost-user interfaces. Guests are running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus on NUMA1 and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p40GE NIC XL710 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                      | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+===========================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br|  |preout|  |
+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br|  |preout|  |
+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br|  |preout|  |
+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2bdbasemaclrn-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_l2_bridge sw_if_index 2 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_bridge sw_if_index 1 bd_id 3 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_bridge sw_if_index 3 bd_id 1 shg 0 enable |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_l2_bridge sw_if_index 4 bd_id 2 shg 0 enable |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_bridge sw_if_index 5 bd_id 2 shg 0 enable |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_l2_bridge sw_if_index 6 bd_id 3 shg 0 enable |br|  |preout|  |
+-----------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-eth-l2xcbase-eth-4vhost-2vm-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput L2XC test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 for L2 switching of IPv4.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with L2 cross- connects. Qemu Guests are connected to VPP via vhost-user interfaces. Guests are running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus on NUMA1 (cpus 24-28 and 29-34) and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p40GE NIC XL710 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                                | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+=====================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-l2xcbase-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |preout|  |
+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-l2xcbase-eth-4vhost-2vm-ndrdisc |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |preout|  |
+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-l2xcbase-eth-4vhost-2vm-ndrdisc  |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |preout|  |
+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-l2xcbase-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |br| **DUT2:** |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 2 tx_sw_if_index 3 |br| sw_interface_set_l2_xconnect rx_sw_if_index 3 tx_sw_if_index 2 |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 4 tx_sw_if_index 5 |br| sw_interface_set_l2_xconnect rx_sw_if_index 5 tx_sw_if_index 4 |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_set_l2_xconnect rx_sw_if_index 6 tx_sw_if_index 1 |br| sw_interface_set_l2_xconnect rx_sw_if_index 1 tx_sw_if_index 6 |br|  |preout|  |
+-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

40ge2p1xl710-ethip4-ip4base-eth-4vhost-2vm-ndrpdrdisc
'''''''''''''''''''''''''''''''''''''''''''''''''''''

**RFC2544: Packet throughput IP14 test cases with vhost**   

 - **[Top] Network Topologies:** TG-DUT1-DUT2-TG 3-node circular topology with single links between nodes.  

 - **[Enc] Packet Encapsulations:** Eth-IPv4 forIPv4 routing.  

 - **[Cfg] DUT configuration:** DUT1 and DUT2 are configured with IPv4 routing and static IPv4 /24 route entries. Qemu Guests are connected to VPP via vhost-user interfaces. Guests are running DPDK testpmd interconnecting vhost-user interfaces using 5 cores pinned to cpus on NUMA1 (cpus 24-28 and 29-34) and 2048M memory. Testpmd is using socket-mem=1024M (512x2M hugepages), 5 cores (1 main core and 4 cores dedicated for io), forwarding mode is set to io, rxd/txd=256, burst=64. DUT1, DUT2 are tested with 2p40GE NIC XL710 by Intel.  

 - **[Ver] TG verification:** TG finds and reports throughput NDR (Non Drop Rate) with zero packet loss tolerance or throughput PDR (Partial Drop Rate) with non-zero packet loss tolerance (LT) expressed in percentage of packets transmitted. NDR and PDR are discovered for different Ethernet L2 frame sizes using either binary search or linear search algorithms with configured starting rate and final step that determines throughput measurement resolution. Test packets are generated by TG on links to DUTs. TG traffic profile contains two L3 flow-groups (flow-group per direction, 253 flows per flow-group) with all packets containing Ethernet header, IPv4 header with IP protocol=61 and static payload. MAC addresses are matching MAC addresses of the TG node interfaces.  

 - **[Ref] Applicable standard specifications:** RFC2544.

+----------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                                               | VPP API Test (VAT) Commands History - Commands Used Per Test Case                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+====================================================+==========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| tc01-64B-1t1c-eth-ip4base-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 68:05:ca:3a:af:41 |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |preout|                         |
+----------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc03-1518B-1t1c-eth-ip4base-eth-4vhost-2vm-ndrdisc |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 68:05:ca:3a:af:41 |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |preout|                         |
+----------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc05-IMIX-1t1c-eth-ip4base-eth-4vhost-2vm-ndrdisc  |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 68:05:ca:3a:af:41 |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |preout|  |
+----------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tc07-64B-2t2c-eth-ip4base-eth-4vhost-2vm-ndrdisc   |  |prein| **DUT1:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.2 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 1.1.1.2/30 |br| sw_interface_add_del_address sw_if_index 1 2.2.2.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 1.1.1.1 mac 68:05:ca:3a:af:40 |br| ip_neighbor_add_del sw_if_index 1 dst 2.2.2.2 mac 68:05:ca:35:78:e9 |br| ip_add_del_route 10.10.10.0/24 via 1.1.1.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 2.2.2.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |br| **DUT2:** |br| sw_interface_set_flags sw_if_index 2 admin-up |br| sw_interface_set_flags sw_if_index 1 admin-up |br| sw_interface_dump |br| sw_interface_dump |br| sw_interface_dump |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 sw_if_index 2 multipath vrf 101 create-vrf |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 sw_if_index 1 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 2 vrf 101  |br| sw_interface_set_table sw_if_index 1 vrf 103  |br| sw_interface_add_del_address sw_if_index 2 2.2.2.2/30 |br| sw_interface_add_del_address sw_if_index 1 3.3.3.1/30 |br| ip_neighbor_add_del sw_if_index 2 dst 2.2.2.1 mac 68:05:ca:37:20:48 |br| ip_neighbor_add_del sw_if_index 1 dst 3.3.3.2 mac 68:05:ca:3a:af:41 |br| ip_add_del_route 10.10.10.0/24 via 2.2.2.1 vrf 101 sw_if_index 2 resolve-attempts 10 count 1    |br| ip_add_del_route 20.20.20.0/24 via 3.3.3.2 vrf 103 sw_if_index 1 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-1-1 |br| create_vhost_user_if socket /tmp/sock-1-2 |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| sw_interface_set_flags sw_if_index 3 admin-up |br| sw_interface_set_flags sw_if_index 4 admin-up |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.1 sw_if_index 3 multipath vrf 101 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 sw_if_index 4 multipath vrf 102 create-vrf |br| sw_interface_set_table sw_if_index 3 vrf 101  |br| sw_interface_set_table sw_if_index 4 vrf 102  |br| sw_interface_add_del_address sw_if_index 3 4.4.4.1/30 |br| sw_interface_add_del_address sw_if_index 4 5.5.5.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 3 dst 4.4.4.2 mac 52:54:00:00:01:01 |br| ip_neighbor_add_del sw_if_index 4 dst 5.5.5.2 mac 52:54:00:00:01:02 |br| ip_add_del_route 20.20.20.0/24 via 4.4.4.2 vrf 101 sw_if_index 3 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 5.5.5.2 vrf 102 sw_if_index 4 resolve-attempts 10 count 1    |br| create_vhost_user_if socket /tmp/sock-2-1 |br| create_vhost_user_if socket /tmp/sock-2-2 |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| sw_interface_set_flags sw_if_index 5 admin-up |br| sw_interface_set_flags sw_if_index 6 admin-up |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.1 sw_if_index 5 multipath vrf 102 create-vrf |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 sw_if_index 6 multipath vrf 103 create-vrf |br| sw_interface_set_table sw_if_index 5 vrf 102  |br| sw_interface_set_table sw_if_index 6 vrf 103  |br| sw_interface_add_del_address sw_if_index 5 6.6.6.1/30 |br| sw_interface_add_del_address sw_if_index 6 7.7.7.1/30 |br| sw_interface_dump |br| sw_interface_dump |br| ip_neighbor_add_del sw_if_index 5 dst 6.6.6.2 mac 52:54:00:00:02:01 |br| ip_neighbor_add_del sw_if_index 6 dst 7.7.7.2 mac 52:54:00:00:02:02 |br| ip_add_del_route 20.20.20.0/24 via 6.6.6.2 vrf 102 sw_if_index 5 resolve-attempts 10 count 1    |br| ip_add_del_route 10.10.10.0/24 via 7.7.7.2 vrf 103 sw_if_index 6 resolve-attempts 10 count 1    |br|  |preout|                         |
+----------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

