---
# file: tasks/pre-set.yaml

- name: pre-setup network interface
  ansible.builtin.shell: |
    ip l set dev {{ item.interfaceName }} up
    ip a add {{ item.ip_addr }} dev {{ item.interfaceName }}
  loop: "{{ calico_uplink_interfaces }}"
  ignore_errors: True
  when:
    - calico_sut is defined
    - calico_vpp_state == "present"
  tags:
    - calico-reset