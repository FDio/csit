The New PAL
===========

Hardware
--------

Three servers in a cluster. HW Specification:

..
    TODO:

- Processor:
- RAM:
- Disc:
- Connectivity:

Architecture
------------

The system consists of two parts:

- Processing of the results of tests generated by LF Jenkins (Data source).
  It includes these sub-systems:

    - Data store
    - Data search
    - Data processing
    - Data visualisation

- Monitoring of the system. The system itself is monitored to prevent and/or
  detect critical situations and watch how it is used. It includes these
  sub-systems (separate production and monitoring clusters):

   - Data store
   - Data search
   - Data visualisation

Data
````

.. figure:: pic/new_pal_data_processing.svg
    :width: 800 px
    :scale: 100 %
    :align: center
    :alt: The picture "new_pal_data_processing.svg" not found.

    *Fig 1: Proposed structure of the Data Processing and Visualization system.*

- Data source: Jenkins executor (output.xml)
- Data store: Logstash [Logstash]_
    - Input plugin: File [File]_
    - Filter plugin: XML [XML]_
    - Output plugin: Elasticsearch [Elasticsearch_Plugin]_
- Data search: Elasticsearch [Elasticsearch]_
- Data processing and visualisation: Plotly Dash [Dash]_

Data store
''''''''''

..
    TODO:

- [Logstash_Installation]_


Data search
'''''''''''

..
    TODO:

- [Elasticsearch_Installation]_

Data processing and visualisation
'''''''''''''''''''''''''''''''''

- Homemade python code
- Plotly Dash

..
    TODO:


Monitoring and Alerting
```````````````````````

.. figure:: pic/new_pal_monitoring.svg
    :width: 800 px
    :scale: 100 %
    :align: center
    :alt: The picture "new_pal_monitoring.svg" not found.

    *Fig 2: Proposed structure of the Monitoring and Alerting system.*

Parts of monitoring and alerting:

..
    TODO:

- Elastic Monitoring [Monitoring]_
- Alerting feature of Elastic Monitoring [Alerting]_
- Elastic X-Pack must be installed on all monitored parts of Elastic Stack
  [XPack]_, [XPack_Installation]_


Links
-----

.. [Logstash] `Elastic Logstash <https://www.elastic.co/products/logstash>`_
.. [Logstash_Installation] `Logstash Installation <https://www.elastic.co/guide/en/logstash/current/installing-logstash.html>`_
.. [File] `File Input Plugin <https://www.elastic.co/guide/en/logstash/current/plugins-inputs-file.html>`_
.. [XML] `XML Filter Plugin <https://www.elastic.co/guide/en/logstash/current/plugins-filters-xml.html>`_
.. [Elasticsearch_Plugin] `Elasticsearch Output Plugin <https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html>`_
.. [Elasticsearch] `Elastic Elasticsearch <https://www.elastic.co/products/elasticsearch>`_
.. [Elasticsearch_Installation] `Elasticsearch Installation <https://www.elastic.co/guide/en/elasticsearch/reference/current/_installation.html>`_
.. [Monitoring] `Elastic Monitoring <https://www.elastic.co/products/stack/monitoring>`_
.. [Alerting] `Elastic Aletring <https://www.elastic.co/products/stack/alerting>`_
.. [XPack] `X-Pack <https://www.elastic.co/guide/en/x-pack/current/index.html>`_
.. [XPack_Installation] `X-Pack Installation <https://www.elastic.co/guide/en/x-pack/current/installing-xpack.html>`_
.. [Dash] `Plotly Dash <https://plot.ly/products/dash/>`_
